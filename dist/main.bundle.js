(()=>{"use strict";var e={426:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(537),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([e.id,"* {\n    box-sizing: border-box;\n}\n\nbody {\n    background-color: black;\n    color: white;\n}\n\n.content {\n    position: relative;\n}\n\n#startButton {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 25%;\n    height: 15%;\n    border: 7px solid white;\n    border-style: outset;\n    background-color: black;\n    color: white;\n    font-weight: 550;\n}\n\n.testing {\n    color: white;\n}\n\n.alphaGridContainer {\n    display: grid;\n    grid-column-start: 2;\n    grid-template-columns: repeat(10, 10%);\n}\n\n.numGridContainer {\n    display: grid;\n    grid-row-start: 2;\n    grid-template-rows: repeat(10, 10%);\n}\n\n.gridContainer {\n    display: grid;\n    grid-template-columns: 5% 95%;\n    grid-template-rows: 5% 95%;\n    /* width: 50%; */\n    /* height: 70%; */\n    min-width: 250px;\n    min-height: 250px;\n    padding: 20px;\n}\n\n.gridPlayerArea {\n    display: grid;\n    grid-column-start: 2;\n    grid-row-start: 2;\n    grid-template-columns: repeat(10, 10%);\n    grid-template-rows: repeat(10, 10%);\n}\n\n.playArea {\n    display: grid;\n    grid-template-columns: 50% 50%;\n    width: 95vw;\n    height: 100vh;\n    margin: 0 auto;\n    justify-content: space-between;\n}\n\n.gridLocation, .gridLabelAlpha, .gridLabelNum {\n    display: flex;\n    border: 1px solid white;\n    align-items: center;\n    justify-content: center;\n    min-height: 1em;\n}\n\n.flex {\n    display: flex;\n}\n\n.gridLocation {\n    position: relative;\n}\n\n.gridLabelAlpha, .gridLabelNum {\n    font-size: 0.75em;\n}\n\n#startButton:hover, .coordHoverPlace:hover {\n    background-color: rgb(0, 255, 0);\n    color: black;\n}\n\n.coordHoverAttack:hover {\n    background-color: rgb(255, 0, 0);\n    color: black;\n}\n\nbutton:hover, .btnSelected {\n    background-color: rgb(0, 0, 255);\n    color: white;\n}\n\n.disableClick {\n    pointer-events: none;\n}\n\n.shipLocation {\n    border: 2px solid blue;\n    background-color: rgb(77, 77, 77);\n}\n\n.narrativeBoard {\n    margin: 0 auto;\n    border: 2px solid white;\n    text-align: center;\n    width: 50%;\n}\n\n.hidden {\n    display: none;\n}\n\n.direction0Button {\n    position: absolute;\n    margin-top: -135%;\n}\n.direction1Button {\n    position: absolute;\n    margin-right: -135%;\n}\n.direction2Button {\n    position: absolute;\n    margin-bottom: -135%;\n}\n.direction3Button {\n    position: absolute;\n    margin-left: -135%;\n}\n\n.buttonDirection, .btnCancelPlaceShip {\n    border: 1px solid white;\n    background-color: black;\n    color: white;\n    font-weight: 550;\n    z-index: 2;\n    width: 24px;\n    height: 24px;\n}\n\n.btnCancelPlaceShip:hover {\n    background-color: red;\n    color: black;\n}\n\n.chosenLocation {\n    background-color: blue;\n}\n\n.btnFocused {\n    background-color: blue;\n    color: white;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,sBAAsB;AAC1B;;AAEA;IACI,uBAAuB;IACvB,YAAY;AAChB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,gCAAgC;IAChC,UAAU;IACV,WAAW;IACX,uBAAuB;IACvB,oBAAoB;IACpB,uBAAuB;IACvB,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,oBAAoB;IACpB,sCAAsC;AAC1C;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,mCAAmC;AACvC;;AAEA;IACI,aAAa;IACb,6BAA6B;IAC7B,0BAA0B;IAC1B,gBAAgB;IAChB,iBAAiB;IACjB,gBAAgB;IAChB,iBAAiB;IACjB,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,oBAAoB;IACpB,iBAAiB;IACjB,sCAAsC;IACtC,mCAAmC;AACvC;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,WAAW;IACX,aAAa;IACb,cAAc;IACd,8BAA8B;AAClC;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;AACnB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,gCAAgC;IAChC,YAAY;AAChB;;AAEA;IACI,gCAAgC;IAChC,YAAY;AAChB;;AAEA;IACI,gCAAgC;IAChC,YAAY;AAChB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,sBAAsB;IACtB,iCAAiC;AACrC;;AAEA;IACI,cAAc;IACd,uBAAuB;IACvB,kBAAkB;IAClB,UAAU;AACd;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;AACrB;AACA;IACI,kBAAkB;IAClB,mBAAmB;AACvB;AACA;IACI,kBAAkB;IAClB,oBAAoB;AACxB;AACA;IACI,kBAAkB;IAClB,kBAAkB;AACtB;;AAEA;IACI,uBAAuB;IACvB,uBAAuB;IACvB,YAAY;IACZ,gBAAgB;IAChB,UAAU;IACV,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,qBAAqB;IACrB,YAAY;AAChB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,YAAY;AAChB",sourcesContent:["* {\n    box-sizing: border-box;\n}\n\nbody {\n    background-color: black;\n    color: white;\n}\n\n.content {\n    position: relative;\n}\n\n#startButton {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 25%;\n    height: 15%;\n    border: 7px solid white;\n    border-style: outset;\n    background-color: black;\n    color: white;\n    font-weight: 550;\n}\n\n.testing {\n    color: white;\n}\n\n.alphaGridContainer {\n    display: grid;\n    grid-column-start: 2;\n    grid-template-columns: repeat(10, 10%);\n}\n\n.numGridContainer {\n    display: grid;\n    grid-row-start: 2;\n    grid-template-rows: repeat(10, 10%);\n}\n\n.gridContainer {\n    display: grid;\n    grid-template-columns: 5% 95%;\n    grid-template-rows: 5% 95%;\n    /* width: 50%; */\n    /* height: 70%; */\n    min-width: 250px;\n    min-height: 250px;\n    padding: 20px;\n}\n\n.gridPlayerArea {\n    display: grid;\n    grid-column-start: 2;\n    grid-row-start: 2;\n    grid-template-columns: repeat(10, 10%);\n    grid-template-rows: repeat(10, 10%);\n}\n\n.playArea {\n    display: grid;\n    grid-template-columns: 50% 50%;\n    width: 95vw;\n    height: 100vh;\n    margin: 0 auto;\n    justify-content: space-between;\n}\n\n.gridLocation, .gridLabelAlpha, .gridLabelNum {\n    display: flex;\n    border: 1px solid white;\n    align-items: center;\n    justify-content: center;\n    min-height: 1em;\n}\n\n.flex {\n    display: flex;\n}\n\n.gridLocation {\n    position: relative;\n}\n\n.gridLabelAlpha, .gridLabelNum {\n    font-size: 0.75em;\n}\n\n#startButton:hover, .coordHoverPlace:hover {\n    background-color: rgb(0, 255, 0);\n    color: black;\n}\n\n.coordHoverAttack:hover {\n    background-color: rgb(255, 0, 0);\n    color: black;\n}\n\nbutton:hover, .btnSelected {\n    background-color: rgb(0, 0, 255);\n    color: white;\n}\n\n.disableClick {\n    pointer-events: none;\n}\n\n.shipLocation {\n    border: 2px solid blue;\n    background-color: rgb(77, 77, 77);\n}\n\n.narrativeBoard {\n    margin: 0 auto;\n    border: 2px solid white;\n    text-align: center;\n    width: 50%;\n}\n\n.hidden {\n    display: none;\n}\n\n.direction0Button {\n    position: absolute;\n    margin-top: -135%;\n}\n.direction1Button {\n    position: absolute;\n    margin-right: -135%;\n}\n.direction2Button {\n    position: absolute;\n    margin-bottom: -135%;\n}\n.direction3Button {\n    position: absolute;\n    margin-left: -135%;\n}\n\n.buttonDirection, .btnCancelPlaceShip {\n    border: 1px solid white;\n    background-color: black;\n    color: white;\n    font-weight: 550;\n    z-index: 2;\n    width: 24px;\n    height: 24px;\n}\n\n.btnCancelPlaceShip:hover {\n    background-color: red;\n    color: black;\n}\n\n.chosenLocation {\n    background-color: blue;\n}\n\n.btnFocused {\n    background-color: blue;\n    color: white;\n}"],sourceRoot:""}]);const l=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var A=[].concat(e[s]);r&&i[A[0]]||(void 0!==a&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=a),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),o&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=o):A[4]="".concat(o)),n.push(A))}},n}},537:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([a]).join("\n")}return[n].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],l=0;l<e.length;l++){var c=e[l],s=r.base?c[0]+r.base:c[0],A=a[s]||0,d="".concat(s," ").concat(A);a[s]=A+1;var u=t(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)n[u].references++,n[u].updater(h);else{var p=o(h,r);r.byIndex=l,n.splice(l,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=t(a[i]);n[l].references--}for(var c=r(e,o),s=0;s<a.length;s++){var A=t(a[s]);0===n[A].references&&(n[A].updater(),n.splice(A,1))}a=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=(e,n)=>{const t=e,r=n,o=[],a=[],i=[],l=[];for(let e=0;e<t;e++)for(let n=0;n<r;n++)o.push([e,n,0]);const c=()=>{let e=0;return a.forEach((n=>{!0===n.shipData.sunk&&e++})),e===a.length},s=(e,n)=>{for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return!1},A=e=>("number"!=typeof e&&void 0!==e&&(console.log("Change to Number"),e=Number(e)),e<0||e>o.length||void 0===e?(console.error(`Location Index ${e} is out of bounds!`),!0):1===o[e][2]),d=e=>{if(!Array.isArray(e))return e;for(let n=0;n<o.length;n++)if(o[n][0]===e[0]&&o[n][1]===e[1])return n},u=e=>o[e];return{boardLocArray:o,shipsLocationArray:a,placeShip:(e,n,t,r)=>{if(a.length>4)return console.error("Max ships already placed!"),!1;if(A(d(n)))return console.error("This location is already occupied!"),!1;let i=r||((e,n,t,r)=>{const o={length:e,hits:0,sunk:!1,name:"Battleship",location:null};return{shipData:o,hit:()=>(o.hits+=1,o.hits),isSunk:()=>o.hits>=o.length&&(o.sunk=!0,!0)}})(e);const l=((e,n)=>{let t=[],r=((e,n)=>{const t=[d(n)];for(let r=1;r<e;r++){if(n[0]-r<0)return!1;Array.isArray(n)||(n=u(n));let e=[n[0]-r,n[1]],o=d(e);if(A(o))return!1;t.push(d(e))}return t.length<e?(t=[],!1):t})(e.shipData.length,n),o=((e,n)=>{let t=[d(n)];for(let r=1;r<e;r++){Array.isArray(n)||(n=u(n));let e=[n[0],n[1]+r],o=d(e);if(A(o))return!1;t.push(d(e))}return t.length<e?(t=[],!1):t})(e.shipData.length,n),a=((e,n)=>{let t=[d(n)];for(let r=1;r<e;r++){Array.isArray(n)||(n=u(n));let e=[n[0]+r,n[1]],o=d(e);if(A(o))return!1;t.push(d(e))}return t.length<e?(t=[],!1):t})(e.shipData.length,n),i=((e,n)=>{let t=[d(n)];for(let r=1;r<e;r++){if(n[1]-r<0)return!1;Array.isArray(n)||(n=u(n));let e=[n[0],n[1]-r],o=d(e);if(A(o))return!1;t.push(d(e))}return t.length<e?(t=[],!1):t})(e.shipData.length,n);return r?t.push({direction:"north",indexArray:r}):t.push({direction:"north",indexArray:!1}),o?t.push({direction:"east",indexArray:o}):t.push({direction:"east",indexArray:!1}),a?t.push({direction:"south",indexArray:a}):t.push({direction:"south",indexArray:!1}),i?t.push({direction:"west",indexArray:i}):t.push({direction:"west",indexArray:!1}),t})(i,n);if(l[t].indexArray){let e=l[t].indexArray;i.shipData.location=e;let n=[];for(let t=0;t<e.length;t++)o[e[t]][2]=1,n.push(o[e[t]]);return a.push(i),!0}return console.error(`That move is invalid! You cannot move \n            ${l[t].direction} try again!`),!1},receiveAttack:e=>{let n;if(n=d(e),s(i,n))return console.error("You have already missed there!");if(s(l,n))return console.error("You have already caused destruction there!");let t=A(n);if(t){let e=(e=>{for(let n=0;n<a.length;n++){let t;if(t=!(e>0)||a[n].shipData.location.find((n=>n===e)),t)return a[n]}})(n);return e.hit(),e.isSunk()&&(console.log(`You have sunk the ${e.shipData.name}`),c())?(console.log("All Ships have been destroyed"),!0):(l.push(n),t)}return i.push(n),!1},checkIfLost:c,getLocationIndex:d,checkAllPlaced:()=>a.length>=5}},n=(e,n,t)=>{if(n){const n=[],r=[],o=[],a=[],i=e=>{for(let t=0;t<n.length;t++)if(e[0]===n[t][0]&&e[1]===n[t][1])return console.error("Already Attacked Here!"),!0;return!1},l=e=>{for(let n=0;n<r.length;n++)if(e[0]===r[n][0]&&e[1]===r[n][1])return console.error("Already tried to place Here!"),!0;return!1},c=()=>{if(a.length>0){console.log("Need to attack adjacent locations");let e=a.shift();for(console.log("Adjacent Coords"),console.log(a),console.log(e);i(e);){if(a.length<1)return console.log("Get Random Move"),e=s(),e;e=a.shift()}return console.log(e),n.push(e),e}{let e=s();return n.push(e),e}},s=()=>{const e=t||9;let n=Math.floor(Math.random()*e),r=Math.floor(Math.random()*e),o=[n,r];for(;i(o);)n=Math.floor(Math.random()*e),r=Math.floor(Math.random()*e),o=[n,r];return o},A=()=>{console.log(n),o.push(n[n.length-1]),console.log(o),o.length>1&&(o.shift(),a.length=0),d(),console.log(o)},d=()=>{const e=[o[0][0]-1,o[0][1]],n=[o[0][0],o[0][1]+1],t=[o[0][0]+1,o[0][1]],r=[o[0][0],o[0][1]-1];a.push(e,n,t,r),console.log(a)};return{name:e,randomAttackCoords:c,randomPlacementCoords:()=>{const e=t||9;let n=Math.floor(Math.random()*e),o=Math.floor(Math.random()*e),a=[n,o];for(;l(a);)n=Math.floor(Math.random()*e),o=Math.floor(Math.random()*e),a=[n,o];return r.push(a),a},clearNewGame:()=>{n.length=0,r.length=0},setLastHitCoords:A}}return{name:e}},r=()=>{const e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=(document.querySelector(".content"),document.createElement("div"));n.classList.add("playArea");const t=document.createElement("div");t.classList.add("alphaGridContainer");const r=document.createElement("div");r.classList.add("numGridContainer");const o=document.createElement("div");o.classList.add("gridContainer"),o.id="player1Area";const a=document.createElement("div");a.classList.add("gridPlayerArea");for(let n=0;n<10;n++){let r=document.createElement("div");r.classList.add("gridLabelAlpha"),r.textContent=e[n],t.appendChild(r)}for(let e=0;e<10;e++){let n=document.createElement("div");n.classList.add("gridLabelNum"),n.textContent=e+1,r.appendChild(n)}for(let e=0;e<100;e++){let n=document.createElement("div");n.classList.add("gridLocation"),n.setAttribute("data-index",e),a.appendChild(n)}o.appendChild(t),o.appendChild(r),o.appendChild(a);const i=document.createElement("div");i.classList.add("gridContainer"),i.id="player2Area";const l=t.cloneNode(!0),c=r.cloneNode(!0),s=a.cloneNode(!0);return i.appendChild(l),i.appendChild(c),i.appendChild(s),n.appendChild(o),n.appendChild(i),n},o=(e,n)=>{const t=document.querySelector(`#player${n}Area`).querySelectorAll(".gridLocation");e.gameboard.shipsLocationArray.forEach((e=>{for(let n=0;n<e.shipData.location.length;n++)i(t,e.shipData.location[n]).classList.add("shipLocation")}))},a=()=>{for(;!p.gameboard.placeShip(5,p.character.randomPlacementCoords(),Math.floor(4*Math.random())););for(;!p.gameboard.placeShip(4,p.character.randomPlacementCoords(),Math.floor(4*Math.random())););for(;!p.gameboard.placeShip(3,p.character.randomPlacementCoords(),Math.floor(4*Math.random())););for(;!p.gameboard.placeShip(3,p.character.randomPlacementCoords(),Math.floor(4*Math.random())););for(;!p.gameboard.placeShip(2,p.character.randomPlacementCoords(),Math.floor(4*Math.random())););o(p,2),l(p,2)},i=(e,n)=>{for(let t=0;t<e.length;t++)if(Number(e[t].getAttribute("data-index"))===n)return e[t]},l=(e,n)=>{document.querySelector(`#player${n}Area`).querySelectorAll(".gridLocation").forEach((t=>{t.classList.add("coordHoverAttack"),t.addEventListener("click",(t=>{t.target.classList.remove("coordHoverAttack"),s(t.target,e,n)}),{once:!0})}))},c=()=>{if(h.gameboard.checkIfLost())u(`${p.character.name} Has sunk all of ${h.character.name}'s Ships!`),setTimeout((()=>(u(`${p.character.name} Wins!`),A(),!0)),1e3);else{if(!p.gameboard.checkIfLost())return!1;u(`${h.character.name} Has sunk all of ${p.character.name}'s Ships!`),setTimeout((()=>(u(`${h.character.name} Wins!`),A(),!0)),1e3)}},s=(e,n,t)=>{let r,o=document.querySelector(`#player${t}Area`);r=1===t?2:1;let a=n.gameboard.receiveAttack(Number(e.getAttribute("data-index")));u(`${h.character.name} sends missles!`),setTimeout((()=>{d(a,e),g()?console.log(`It is now Player${t}'s turn!`):c()?console.log("Game Over!"):setTimeout((()=>{u(`${p.character.name} Retaliates!`),console.log("AI Attacks!"),setTimeout((()=>{u(`${n.character.name} sends a missle!`),setTimeout((()=>{let e=p.character.randomAttackCoords();console.log(e);let n=h.gameboard.receiveAttack(e);if(n&&p.character.setLastHitCoords(),c())console.log("GameOver!");else{let t=h.gameboard.getLocationIndex(e),r=document.querySelector("#player1Area").querySelector(".gridPlayerArea").querySelectorAll(".gridLocation");for(let e=0;e<r.length;e++)if(Number(r[e].getAttribute("data-index"))===t)return d(n,r[e]),void setTimeout((()=>{u(`${h.character.name}'s turn to attack!`),o.classList.remove("disableClick")}),500)}}),500)}),500)}),500)}),500),o.classList.add("disableClick")},A=()=>{document.querySelector("#startButton").classList.toggle("hidden")},d=(e,n)=>{e?(u("And it's a Hit!"),n.textContent="X",n.classList.remove("coordHover")):(u("And it's a Miss..."),n.textContent="O",n.classList.remove("coordHover"))},u=e=>{document.querySelector(".narrativeBoard p").textContent=e},h={character:n("KP",!1),gameboard:e(10,10)},p={character:n("Robot",!0),gameboard:e(10,10)},g=((()=>{const n=document.querySelector(".content");(()=>{const e=document.querySelector(".content"),n=document.createElement("div");n.classList.add("narrativeBoard");const t=document.createElement("p");t.textContent="Welcome to BattleShip",n.appendChild(t),e.appendChild(n)})(),n.appendChild(r()),((n,t,i)=>{const l=document.querySelector(".content"),c=(()=>{const e=document.createElement("button");return e.id="startButton",e.classList.add("startButton"),e.textContent="Start New Game",e.value="Start New Game",e})();c.addEventListener("click",(()=>{A();let i=document.querySelector(".playArea");n.gameboard.shipsLocationArray.length>0&&(console.log("old game"),i.replaceWith(r()),n.gameboard=e(10,10),t.gameboard=e(10,10),t.character.clearNewGame(),i=document.querySelector(".playArea")),n.gameboard.placeShip(5,[5,5],3),n.gameboard.placeShip(4,[6,5],3),n.gameboard.placeShip(3,[7,5],3),n.gameboard.placeShip(3,[4,5],0),n.gameboard.placeShip(2,[5,8],3),o(n,1),a()}),{once:!1}),l.appendChild(c)})(h,p)})(),()=>0);var m=t(379),C=t.n(m),b=t(795),f=t.n(b),B=t(569),v=t.n(B),I=t(565),y=t.n(I),k=t(216),x=t.n(k),w=t(589),L=t.n(w),S=t(426),E={};E.styleTagTransform=L(),E.setAttributes=y(),E.insert=v().bind(null,"head"),E.domAPI=f(),E.insertStyleElement=x(),C()(S.Z,E),S.Z&&S.Z.locals&&S.Z.locals})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNDLFlBQVkxRCxLQUNyQm1ELEVBQVE3QixVQUFZLEVBQVUsR0FBSSxJQUNsQzhCLEVBQVE5QixVQUFZLEVBQVUsR0FBSSxJQUNsQzhCLEVBQVFaLFVBQVV6QyxlQUNsQjBELEVBQVdwTSxTQUFTQyxjQUFjLGNBS3RDNkwsRUFBUTdCLFVBQVVyRixVQUFVLEVBQUcsQ0FBQyxFQUFFLEdBQUksR0FDdENrSCxFQUFRN0IsVUFBVXJGLFVBQVUsRUFBRyxDQUFDLEVBQUUsR0FBSSxHQUN0Q2tILEVBQVE3QixVQUFVckYsVUFBVSxFQUFHLENBQUMsRUFBRSxHQUFJLEdBQ3RDa0gsRUFBUTdCLFVBQVVyRixVQUFVLEVBQUcsQ0FBQyxFQUFFLEdBQUksR0FDdENrSCxFQUFRN0IsVUFBVXJGLFVBQVUsRUFBRyxDQUFDLEVBQUUsR0FBSSxHQUN0Q2dGLEVBQVNrQyxFQUFTLEdBQ2xCM0IsR0FBWSxHQUtiLENBQUNPLE1BQU0sSUFFVmdCLEVBQWNqTCxZQUFZd0wsRUFBWSxFQ3hCdENLLENBQWMsRUFBUyxFQUkxQixFQWJlLEdBZVMsSUExQlAsRyx5SENLZHBPLEVBQVUsQ0FBQyxFQUVmQSxFQUFRZ0Qsa0JBQW9CLElBQzVCaEQsRUFBUTBDLGNBQWdCLElBRWxCMUMsRUFBUTBCLE9BQVMsU0FBYyxLQUFNLFFBRTNDMUIsRUFBUWUsT0FBUyxJQUNqQmYsRUFBUStDLG1CQUFxQixJQUVoQixJQUFJLElBQVMvQyxHQUtKLEtBQVcsWUFBaUIsVSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9vZGluLWltYWdlLWNhcm91c2VsLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1pbWFnZS1jYXJvdXNlbC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9vZGluLWltYWdlLWNhcm91c2VsLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1pbWFnZS1jYXJvdXNlbC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2Rpbi1pbWFnZS1jYXJvdXNlbC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vZGluLWltYWdlLWNhcm91c2VsL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vZGluLWltYWdlLWNhcm91c2VsL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb2Rpbi1pbWFnZS1jYXJvdXNlbC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vb2Rpbi1pbWFnZS1jYXJvdXNlbC8uL3NyYy9CYXR0bGVzaGlwLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9zcmMvR2FtZWJvYXJkLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9zcmMvUGxheWVyLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9zcmMvZnVuY3Rpb25zRE9NLmpzIiwid2VicGFjazovL29kaW4taW1hZ2UtY2Fyb3VzZWwvLi9zcmMvZ2FtZUxvb3AuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1pbWFnZS1jYXJvdXNlbC8uL3NyYy9zdHlsZS5jc3M/NzE2MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIioge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmNvbnRlbnQge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbiNzdGFydEJ1dHRvbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICAgIHdpZHRoOiAyNSU7XFxuICAgIGhlaWdodDogMTUlO1xcbiAgICBib3JkZXI6IDdweCBzb2xpZCB3aGl0ZTtcXG4gICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGZvbnQtd2VpZ2h0OiA1NTA7XFxufVxcblxcbi50ZXN0aW5nIHtcXG4gICAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4uYWxwaGFHcmlkQ29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1jb2x1bW4tc3RhcnQ6IDI7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxMCUpO1xcbn1cXG5cXG4ubnVtR3JpZENvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtcm93LXN0YXJ0OiAyO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMTAlKTtcXG59XFxuXFxuLmdyaWRDb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDUlIDk1JTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA1JSA5NSU7XFxuICAgIC8qIHdpZHRoOiA1MCU7ICovXFxuICAgIC8qIGhlaWdodDogNzAlOyAqL1xcbiAgICBtaW4td2lkdGg6IDI1MHB4O1xcbiAgICBtaW4taGVpZ2h0OiAyNTBweDtcXG4gICAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuLmdyaWRQbGF5ZXJBcmVhIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1jb2x1bW4tc3RhcnQ6IDI7XFxuICAgIGdyaWQtcm93LXN0YXJ0OiAyO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMTAlKTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDEwJSk7XFxufVxcblxcbi5wbGF5QXJlYSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNTAlIDUwJTtcXG4gICAgd2lkdGg6IDk1dnc7XFxuICAgIGhlaWdodDogMTAwdmg7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcblxcbi5ncmlkTG9jYXRpb24sIC5ncmlkTGFiZWxBbHBoYSwgLmdyaWRMYWJlbE51bSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgbWluLWhlaWdodDogMWVtO1xcbn1cXG5cXG4uZmxleCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5ncmlkTG9jYXRpb24ge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5ncmlkTGFiZWxBbHBoYSwgLmdyaWRMYWJlbE51bSB7XFxuICAgIGZvbnQtc2l6ZTogMC43NWVtO1xcbn1cXG5cXG4jc3RhcnRCdXR0b246aG92ZXIsIC5jb29yZEhvdmVyUGxhY2U6aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMjU1LCAwKTtcXG4gICAgY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4uY29vcmRIb3ZlckF0dGFjazpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDAsIDApO1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblxcbmJ1dHRvbjpob3ZlciwgLmJ0blNlbGVjdGVkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDAsIDI1NSk7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmRpc2FibGVDbGljayB7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4uc2hpcExvY2F0aW9uIHtcXG4gICAgYm9yZGVyOiAycHggc29saWQgYmx1ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDc3LCA3NywgNzcpO1xcbn1cXG5cXG4ubmFycmF0aXZlQm9hcmQge1xcbiAgICBtYXJnaW46IDAgYXV0bztcXG4gICAgYm9yZGVyOiAycHggc29saWQgd2hpdGU7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgd2lkdGg6IDUwJTtcXG59XFxuXFxuLmhpZGRlbiB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5kaXJlY3Rpb24wQnV0dG9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBtYXJnaW4tdG9wOiAtMTM1JTtcXG59XFxuLmRpcmVjdGlvbjFCdXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG1hcmdpbi1yaWdodDogLTEzNSU7XFxufVxcbi5kaXJlY3Rpb24yQnV0dG9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBtYXJnaW4tYm90dG9tOiAtMTM1JTtcXG59XFxuLmRpcmVjdGlvbjNCdXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG1hcmdpbi1sZWZ0OiAtMTM1JTtcXG59XFxuXFxuLmJ1dHRvbkRpcmVjdGlvbiwgLmJ0bkNhbmNlbFBsYWNlU2hpcCB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBmb250LXdlaWdodDogNTUwO1xcbiAgICB6LWluZGV4OiAyO1xcbiAgICB3aWR0aDogMjRweDtcXG4gICAgaGVpZ2h0OiAyNHB4O1xcbn1cXG5cXG4uYnRuQ2FuY2VsUGxhY2VTaGlwOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5jaG9zZW5Mb2NhdGlvbiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XFxufVxcblxcbi5idG5Gb2N1c2VkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcXG4gICAgY29sb3I6IHdoaXRlO1xcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFFBQVE7SUFDUixnQ0FBZ0M7SUFDaEMsVUFBVTtJQUNWLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsb0JBQW9CO0lBQ3BCLHVCQUF1QjtJQUN2QixZQUFZO0lBQ1osZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixvQkFBb0I7SUFDcEIsc0NBQXNDO0FBQzFDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsNkJBQTZCO0lBQzdCLDBCQUEwQjtJQUMxQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixvQkFBb0I7SUFDcEIsaUJBQWlCO0lBQ2pCLHNDQUFzQztJQUN0QyxtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLFdBQVc7SUFDWCxhQUFhO0lBQ2IsY0FBYztJQUNkLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixlQUFlO0FBQ25COztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGdDQUFnQztJQUNoQyxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxnQ0FBZ0M7SUFDaEMsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9CQUFvQjtBQUN4QjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2Qix1QkFBdUI7SUFDdkIsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixVQUFVO0lBQ1YsV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIioge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmNvbnRlbnQge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbiNzdGFydEJ1dHRvbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICAgIHdpZHRoOiAyNSU7XFxuICAgIGhlaWdodDogMTUlO1xcbiAgICBib3JkZXI6IDdweCBzb2xpZCB3aGl0ZTtcXG4gICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGZvbnQtd2VpZ2h0OiA1NTA7XFxufVxcblxcbi50ZXN0aW5nIHtcXG4gICAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4uYWxwaGFHcmlkQ29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1jb2x1bW4tc3RhcnQ6IDI7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxMCUpO1xcbn1cXG5cXG4ubnVtR3JpZENvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtcm93LXN0YXJ0OiAyO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMTAlKTtcXG59XFxuXFxuLmdyaWRDb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDUlIDk1JTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA1JSA5NSU7XFxuICAgIC8qIHdpZHRoOiA1MCU7ICovXFxuICAgIC8qIGhlaWdodDogNzAlOyAqL1xcbiAgICBtaW4td2lkdGg6IDI1MHB4O1xcbiAgICBtaW4taGVpZ2h0OiAyNTBweDtcXG4gICAgcGFkZGluZzogMjBweDtcXG59XFxuXFxuLmdyaWRQbGF5ZXJBcmVhIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1jb2x1bW4tc3RhcnQ6IDI7XFxuICAgIGdyaWQtcm93LXN0YXJ0OiAyO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMTAlKTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDEwJSk7XFxufVxcblxcbi5wbGF5QXJlYSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNTAlIDUwJTtcXG4gICAgd2lkdGg6IDk1dnc7XFxuICAgIGhlaWdodDogMTAwdmg7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcblxcbi5ncmlkTG9jYXRpb24sIC5ncmlkTGFiZWxBbHBoYSwgLmdyaWRMYWJlbE51bSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgbWluLWhlaWdodDogMWVtO1xcbn1cXG5cXG4uZmxleCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5ncmlkTG9jYXRpb24ge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5ncmlkTGFiZWxBbHBoYSwgLmdyaWRMYWJlbE51bSB7XFxuICAgIGZvbnQtc2l6ZTogMC43NWVtO1xcbn1cXG5cXG4jc3RhcnRCdXR0b246aG92ZXIsIC5jb29yZEhvdmVyUGxhY2U6aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMjU1LCAwKTtcXG4gICAgY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4uY29vcmRIb3ZlckF0dGFjazpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDAsIDApO1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblxcbmJ1dHRvbjpob3ZlciwgLmJ0blNlbGVjdGVkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDAsIDI1NSk7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLmRpc2FibGVDbGljayB7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4uc2hpcExvY2F0aW9uIHtcXG4gICAgYm9yZGVyOiAycHggc29saWQgYmx1ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDc3LCA3NywgNzcpO1xcbn1cXG5cXG4ubmFycmF0aXZlQm9hcmQge1xcbiAgICBtYXJnaW46IDAgYXV0bztcXG4gICAgYm9yZGVyOiAycHggc29saWQgd2hpdGU7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgd2lkdGg6IDUwJTtcXG59XFxuXFxuLmhpZGRlbiB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5kaXJlY3Rpb24wQnV0dG9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBtYXJnaW4tdG9wOiAtMTM1JTtcXG59XFxuLmRpcmVjdGlvbjFCdXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG1hcmdpbi1yaWdodDogLTEzNSU7XFxufVxcbi5kaXJlY3Rpb24yQnV0dG9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBtYXJnaW4tYm90dG9tOiAtMTM1JTtcXG59XFxuLmRpcmVjdGlvbjNCdXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG1hcmdpbi1sZWZ0OiAtMTM1JTtcXG59XFxuXFxuLmJ1dHRvbkRpcmVjdGlvbiwgLmJ0bkNhbmNlbFBsYWNlU2hpcCB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBmb250LXdlaWdodDogNTUwO1xcbiAgICB6LWluZGV4OiAyO1xcbiAgICB3aWR0aDogMjRweDtcXG4gICAgaGVpZ2h0OiAyNHB4O1xcbn1cXG5cXG4uYnRuQ2FuY2VsUGxhY2VTaGlwOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5jaG9zZW5Mb2NhdGlvbiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XFxufVxcblxcbi5idG5Gb2N1c2VkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcXG4gICAgY29sb3I6IHdoaXRlO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImNvbnN0IEJhdHRsZXNoaXAgPSAobGVuZ3RoLCBoaXRzLCBzdW5rLCBuYW1lKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coXCJNYWtlIEJhdHRsZVNoaXAhXCIpO1xuICAgIGNvbnN0IHNoaXBEYXRhID0ge1xuICAgICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgICAgaGl0czogaGl0cyB8fCAwLFxuICAgICAgICBzdW5rOiBzdW5rIHx8IGZhbHNlLFxuICAgICAgICBuYW1lOiBuYW1lIHx8IFwiQmF0dGxlc2hpcFwiLFxuICAgICAgICBsb2NhdGlvbjogbnVsbCxcbiAgICB9XG5cbiAgICBjb25zdCBoaXQgPSAoKSA9PiB7XG4gICAgICAgIHNoaXBEYXRhLmhpdHMgKz0gMTtcbiAgICAgICAgcmV0dXJuIHNoaXBEYXRhLmhpdHM7XG4gICAgfVxuXG4gICAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xuICAgICAgICBpZiAoc2hpcERhdGEuaGl0cyA+PSBzaGlwRGF0YS5sZW5ndGggKSB7XG4gICAgICAgICAgICBzaGlwRGF0YS5zdW5rID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hpcERhdGEsXG4gICAgICAgIGhpdCxcbiAgICAgICAgaXNTdW5rLFxuICAgIH1cbn1cblxuZXhwb3J0IHtcbiAgICBCYXR0bGVzaGlwLFxufSIsImltcG9ydCB7IEJhdHRsZXNoaXAgfSBmcm9tIFwiLi9CYXR0bGVzaGlwLmpzXCI7XG5cbmNvbnN0IEdhbWVib2FyZCA9IChzaXplWCwgc2l6ZVkpID0+IHtcbiAgICBjb25zdCB4ID0gc2l6ZVg7XG4gICAgY29uc3QgeSA9IHNpemVZO1xuICAgIGNvbnN0IGJvYXJkTG9jQXJyYXkgPSBbXTtcbiAgICBjb25zdCBzaGlwc0xvY2F0aW9uQXJyYXkgPSBbXTtcbiAgICBjb25zdCBtaXNzZWRBdHRhY2tzID0gW107XG4gICAgY29uc3QgaGl0QXR0YWNrcyA9IFtdO1xuICAgIGNvbnN0IGxlZ2VuZCA9IFtcbiAgICAgICAgJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLFxuICAgICAgICAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWidcbiAgICBdXG5cbiAgICAvLyBpdGVyYXRpb24gdGhyb3VnaCBzaXplWCArIDEsIHNpemVZXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4OyBpKyspIHtcbiAgICAgICAgLy8gbmVzdCBsb29wIGl0ZXJhdGVzIHRocm91Z2ggc2l6ZVgsIHNpemVZICsgMSwgc2l6ZVlcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB5OyBqKyspIHtcbiAgICAgICAgICAgIC8vIHB1c2ggYXJyYXkgd2l0aCB4LCB5LCBvY2N1cGllZFxuICAgICAgICAgICAgYm9hcmRMb2NBcnJheS5wdXNoKFtpLCBqLCAwXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGNvb3JkcykgPT4ge1xuICAgICAgICBsZXQgYXR0YWNrTG9jYXRpb25JbmRleDtcbiAgICAgICAgLy8gQWRqdXN0IGZvciB3aGV0aGVyIGNvb3JkcyBvciBpbmRleCBpcyBpbnB1dFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhjb29yZHMpO1xuXG4gICAgICAgIGF0dGFja0xvY2F0aW9uSW5kZXggPSBnZXRMb2NhdGlvbkluZGV4KGNvb3Jkcyk7XG5cblxuICAgICAgICAvLyBDaGVjayBpZiBhdHRhY2tNb3ZlIGhhcyBhbHJlYWR5IGJlZW4gbWFkZSBiZWZvcmVcbiAgICAgICAgaWYgKGNoZWNrQXR0YWNrcyhtaXNzZWRBdHRhY2tzLCBhdHRhY2tMb2NhdGlvbkluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJZb3UgaGF2ZSBhbHJlYWR5IG1pc3NlZCB0aGVyZSFcIilcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hlY2tBdHRhY2tzKGhpdEF0dGFja3MsIGF0dGFja0xvY2F0aW9uSW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihcIllvdSBoYXZlIGFscmVhZHkgY2F1c2VkIGRlc3RydWN0aW9uIHRoZXJlIVwiKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgbG9jYWl0b24gaXMgb2NjdXBpZWQgYnkgc2hpcFxuICAgICAgICBsZXQgYXR0YWNrSGl0ID0gY2hlY2tPY2N1cGllZChhdHRhY2tMb2NhdGlvbkluZGV4KTtcblxuICAgICAgICBpZiAoYXR0YWNrSGl0KSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlb2YgYXR0YWNrTG9jYXRpb25JbmRleCk7XG4gICAgICAgICAgICBsZXQgaGl0U2hpcCA9IGdldEhpdFNoaXAoYXR0YWNrTG9jYXRpb25JbmRleCk7XG4gICAgICAgICAgICBoaXRTaGlwLmhpdCgpO1xuICAgICAgICAgICAgaWYgKGhpdFNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWW91IGhhdmUgc3VuayB0aGUgJHtoaXRTaGlwLnNoaXBEYXRhLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgaWYoY2hlY2tJZkxvc3QoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFsbCBTaGlwcyBoYXZlIGJlZW4gZGVzdHJveWVkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcHNMb2NhdGlvbkFycmF5KTtcbiAgICAgICAgICAgIC8vIGFkZCB0byBzdWNjZXNzZnVsIGhpdHMgYXJyYXlcbiAgICAgICAgICAgIGhpdEF0dGFja3MucHVzaChhdHRhY2tMb2NhdGlvbkluZGV4KTtcblxuICAgICAgICAgICAgcmV0dXJuIGF0dGFja0hpdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFkZCB0byBtaXNzZWQgaGl0cyBhcnJheVxuICAgICAgICAgICAgbWlzc2VkQXR0YWNrcy5wdXNoKGF0dGFja0xvY2F0aW9uSW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tJZkxvc3QgPSAoKSA9PiB7XG4gICAgICAgIGxldCBzdW5rU2hpcHMgPSAwO1xuICAgICAgICBzaGlwc0xvY2F0aW9uQXJyYXkuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNoaXAuc2hpcERhdGEuc3VuayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHN1bmtTaGlwcysrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHN1bmtTaGlwcyA9PT0gc2hpcHNMb2NhdGlvbkFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnZXRIaXRTaGlwID0gKGhpdEluZGV4KSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHNMb2NhdGlvbkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaGlwc0xvY2F0aW9uQXJyYXlbaV0pO1xuICAgICAgICAgICAgbGV0IGZvdW5kU2hpcDtcbiAgICAgICAgICAgIC8vIGZpbmQoKSBvbmx5IHdvcmtzIHdpdGggdHJ1dGh5IHZhbHVlIGFuZCBmYWlscyBAIDAgaW5kZXhcbiAgICAgICAgICAgIGhpdEluZGV4ID4gMCA/IGZvdW5kU2hpcCA9IHNoaXBzTG9jYXRpb25BcnJheVtpXS5zaGlwRGF0YS5sb2NhdGlvbi5maW5kKGluZGV4ID0+IGluZGV4ID09PSBoaXRJbmRleCkgOiBmb3VuZFNoaXAgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGZvdW5kU2hpcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGlwc0xvY2F0aW9uQXJyYXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjaGVja0F0dGFja3MgPSAoYXR0YWNrQXJyYXksaW5kZXgpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRhY2tBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGF0dGFja0FycmF5W2ldID09PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHBsYWNlU2hpcCA9IChzaGlwU2l6ZSwgbG9jYXRpb24sIGRpcmVjdGlvbkluZGV4LCBtb2NrU2hpcCkgPT4ge1xuICAgICAgICAvLyBQbGFjZW1lbnQgY2hlY2tzXG4gICAgICAgIGlmIChzaGlwc0xvY2F0aW9uQXJyYXkubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk1heCBzaGlwcyBhbHJlYWR5IHBsYWNlZCFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgY29vcmRzIGFycmF5IGVsc2UgdXNlIGluZGV4XG4gICAgICAgIGlmIChjaGVja09jY3VwaWVkKGdldExvY2F0aW9uSW5kZXgobG9jYXRpb24pKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoaXMgbG9jYXRpb24gaXMgYWxyZWFkeSBvY2N1cGllZCFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgbGV0IHNoaXAgPSBtb2NrU2hpcCB8fCBCYXR0bGVzaGlwKHNoaXBTaXplKTtcblxuICAgICAgICAvLyBnZXQgcG9zc2libGUgcGxhY2VtZW50IGFycmF5cyBpbiBlYWNoIGRpcmVjdGlvblxuICAgICAgICBjb25zdCBwb3NzaWJsZVBsYWNlbWVudHMgPSBjaGVja1Bvc3NpYmxlUGxhY2VtZW50cyhzaGlwLCBsb2NhdGlvbik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHBvc3NpYmxlUGxhY2VtZW50cyk7XG5cbiAgICAgICAgLy8gaWYgY2hvc2VuIGRpcmVjdGlvbiB0byBwbGFjZSBpcyB2YWxpZFxuICAgICAgICBpZiAocG9zc2libGVQbGFjZW1lbnRzW2RpcmVjdGlvbkluZGV4XS5pbmRleEFycmF5KSB7XG4gICAgICAgICAgICBsZXQgcGxhY2VtZW50SW5kZXhBcnJheSA9IHBvc3NpYmxlUGxhY2VtZW50c1tkaXJlY3Rpb25JbmRleF0uaW5kZXhBcnJheTtcbiAgICAgICAgICAgIHNoaXAuc2hpcERhdGEubG9jYXRpb24gPSBwbGFjZW1lbnRJbmRleEFycmF5O1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcCk7XG5cbiAgICAgICAgICAgIGxldCBwbGFjZW1lbnRMb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwbGFjZW1lbnQgbG9jYXRpb24gYXJyYXlcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhY2VtZW50SW5kZXhBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIHNldCBnYW1lYm9hcmQgbG9jYXRpb24gc3dpdGNoIHRvIDFcbiAgICAgICAgICAgICAgICBib2FyZExvY0FycmF5W3BsYWNlbWVudEluZGV4QXJyYXlbaV1dWzJdID0gMTtcbiAgICAgICAgICAgICAgICAvLyBwdXNoIHNldCBsb2NhdGlvbiB0byBhcnJheSBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudExvY2F0aW9ucy5wdXNoKGJvYXJkTG9jQXJyYXlbcGxhY2VtZW50SW5kZXhBcnJheVtpXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hpcHNMb2NhdGlvbkFycmF5LnB1c2goc2hpcCk7XG4gICAgICAgICAgICAvLyByZXR1cm4gcGxhY2VtZW50TG9jYXRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUaGF0IG1vdmUgaXMgaW52YWxpZCEgWW91IGNhbm5vdCBtb3ZlIFxuICAgICAgICAgICAgJHtwb3NzaWJsZVBsYWNlbWVudHNbZGlyZWN0aW9uSW5kZXhdLmRpcmVjdGlvbn0gdHJ5IGFnYWluIWApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tPY2N1cGllZCA9IChpbmRleCkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT0gXCJudW1iZXJcIiAmJiBpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2hhbmdlIHRvIE51bWJlcicpO1xuICAgICAgICAgICAgaW5kZXggPSBOdW1iZXIoaW5kZXgpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiBib2FyZExvY0FycmF5Lmxlbmd0aCB8fCBpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBMb2NhdGlvbiBJbmRleCAke2luZGV4fSBpcyBvdXQgb2YgYm91bmRzIWApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYm9hcmRMb2NBcnJheVtpbmRleF1bMl0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TG9jYXRpb25JbmRleCA9IChsb2NhdGlvbikgPT4ge1xuICAgICAgICAvLyByZXR1cm5zIGxvY2F0aW9uIGlmIGFscmVhZHkgaW4gaW5kZXggZm9ybWF0XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsb2NhdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkTG9jQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChib2FyZExvY0FycmF5W2ldWzBdID09PSBsb2NhdGlvblswXSAmJiBib2FyZExvY0FycmF5W2ldWzFdID09PSBsb2NhdGlvblsxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBnZXRDb29yZEZyb21JbmRleCA9IChpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gYm9hcmRMb2NBcnJheVtpbmRleF07XG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tFYXN0ID0gKGxlbmd0aCwgbG9jYXRpb24pID0+IHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBhcnJheSB0byBob2xkIGxvY2F0aW9uIGluZGV4IHRoYXQgYXJlbid0IG9jY3VwaWVkXG4gICAgICAgIGxldCBpbmRleEFycmF5ID0gW2dldExvY2F0aW9uSW5kZXgobG9jYXRpb24pXTtcbiAgICAgICAgLy8gY2hlY2sgYWxsIGxvY2F0aW9ucyBpbiBjaG9zZW4gZGlyZWN0aW9uLCBzdG9wIGF0IGxlbmd0aCBvZiBzaGlwXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIEN5Y2xlIHRvIG5leHQgbG9jYXRpb25cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGdldENvb3JkRnJvbUluZGV4KGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBsZXQgdG1wTG9jYXRpb24gPSBbbG9jYXRpb25bMF0sIGxvY2F0aW9uWzFdICsgaV07XG4gICAgICAgICAgICBsZXQgdG1wTG9jYXRpb25JbmRleCA9IGdldExvY2F0aW9uSW5kZXgodG1wTG9jYXRpb24pO1xuICAgICAgICAgICAgaWYgKGNoZWNrT2NjdXBpZWQodG1wTG9jYXRpb25JbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgbG9jYXRpb24gdG8gYXJyYXkgaWYgZW1wdHlcbiAgICAgICAgICAgIGluZGV4QXJyYXkucHVzaChnZXRMb2NhdGlvbkluZGV4KHRtcExvY2F0aW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHdob2xlIHNoaXAgZml0c1xuICAgICAgICBpZiAoaW5kZXhBcnJheS5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV4QXJyYXkgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIGZpdHMsIHJldHVybiBpbmRleCBhcnJheVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4QXJyYXk7XG4gICAgICAgIH0gIFxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrV2VzdCA9IChsZW5ndGgsIGxvY2F0aW9uKSA9PiB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgYXJyYXkgdG8gaG9sZCBsb2NhdGlvbiBpbmRleCB0aGF0IGFyZW4ndCBvY2N1cGllZFxuICAgICAgICBsZXQgaW5kZXhBcnJheSA9IFtnZXRMb2NhdGlvbkluZGV4KGxvY2F0aW9uKV07XG4gICAgICAgIC8vIGNoZWNrIGFsbCBsb2NhdGlvbnMgaW4gY2hvc2VuIGRpcmVjdGlvbiwgc3RvcCBhdCBsZW5ndGggb2Ygc2hpcFxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBvdXQgb2YgcmFuZ2VcbiAgICAgICAgICAgIGlmICgobG9jYXRpb25bMV0gLSBpKSA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDeWNsZSB0byBuZXh0IGxvY2F0aW9uXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSBnZXRDb29yZEZyb21JbmRleChsb2NhdGlvbik7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgbGV0IHRtcExvY2F0aW9uID0gW2xvY2F0aW9uWzBdLCBsb2NhdGlvblsxXSAtIGldO1xuICAgICAgICAgICAgbGV0IHRtcExvY2F0aW9uSW5kZXggPSBnZXRMb2NhdGlvbkluZGV4KHRtcExvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChjaGVja09jY3VwaWVkKHRtcExvY2F0aW9uSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIGxvY2F0aW9uIHRvIGFycmF5IGlmIGVtcHR5XG4gICAgICAgICAgICBpbmRleEFycmF5LnB1c2goZ2V0TG9jYXRpb25JbmRleCh0bXBMb2NhdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgd2hvbGUgc2hpcCBmaXRzXG4gICAgICAgIGlmIChpbmRleEFycmF5Lmxlbmd0aCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaW5kZXhBcnJheSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgZml0cywgcmV0dXJuIGluZGV4IGFycmF5XG4gICAgICAgICAgICByZXR1cm4gaW5kZXhBcnJheTtcbiAgICAgICAgfSAgXG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tOb3J0aCA9IChsZW5ndGgsIGxvY2F0aW9uKSA9PiB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgYXJyYXkgdG8gaG9sZCBsb2NhdGlvbiBpbmRleCB0aGF0IGFyZW4ndCBvY2N1cGllZFxuICAgICAgICBjb25zdCBpbmRleEFycmF5ID0gW2dldExvY2F0aW9uSW5kZXgobG9jYXRpb24pXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXhBcnJheSk7XG5cbiAgICAgICAgLy8gY2hlY2sgYWxsIGxvY2F0aW9ucyBpbiBjaG9zZW4gZGlyZWN0aW9uLCBzdG9wIGF0IGxlbmd0aCBvZiBzaGlwXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIG91dCBvZiByYW5nZVxuICAgICAgICAgICAgaWYgKChsb2NhdGlvblswXSAtIGkpIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEN5Y2xlIHRvIG5leHQgbG9jYXRpb25cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShsb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGdldENvb3JkRnJvbUluZGV4KGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhsb2NhdGlvbik7XG4gICAgICAgICAgICBsZXQgdG1wTG9jYXRpb24gPSBbbG9jYXRpb25bMF0gLSBpLCBsb2NhdGlvblsxXV07XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0bXBMb2NhdGlvbik7XG4gICAgICAgICAgICBsZXQgdG1wTG9jYXRpb25JbmRleCA9IGdldExvY2F0aW9uSW5kZXgodG1wTG9jYXRpb24pO1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0bXBMb2NhdGlvbkluZGV4KTtcbiAgICAgICAgICAgIC8vIGlmIG9jY3VwaWVkLCBzdG9wIGNvdW50aW5nIGRpcmVjdGlvblxuICAgICAgICAgICAgaWYgKGNoZWNrT2NjdXBpZWQodG1wTG9jYXRpb25JbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgbG9jYXRpb24gdG8gYXJyYXkgaWYgZW1wdHlcbiAgICAgICAgICAgIGluZGV4QXJyYXkucHVzaChnZXRMb2NhdGlvbkluZGV4KHRtcExvY2F0aW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHdob2xlIHNoaXAgZml0c1xuICAgICAgICBpZiAoaW5kZXhBcnJheS5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV4QXJyYXkgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIGZpdHMsIHJldHVybiBpbmRleCBhcnJheVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4QXJyYXk7XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tTb3V0aCA9IChsZW5ndGgsIGxvY2F0aW9uKSA9PiB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgYXJyYXkgdG8gaG9sZCBsb2NhdGlvbiBpbmRleCB0aGF0IGFyZW4ndCBvY2N1cGllZFxuICAgICAgICBsZXQgaW5kZXhBcnJheSA9IFtnZXRMb2NhdGlvbkluZGV4KGxvY2F0aW9uKV07XG4gICAgICAgIC8vIGNoZWNrIGFsbCBsb2NhdGlvbnMgaW4gY2hvc2VuIGRpcmVjdGlvbiwgc3RvcCBhdCBsZW5ndGggb2Ygc2hpcFxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBDeWNsZSB0byBuZXh0IGxvY2F0aW9uXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSBnZXRDb29yZEZyb21JbmRleChsb2NhdGlvbik7XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgbGV0IHRtcExvY2F0aW9uID0gW2xvY2F0aW9uWzBdICsgaSwgbG9jYXRpb25bMV1dO1xuICAgICAgICAgICAgbGV0IHRtcExvY2F0aW9uSW5kZXggPSBnZXRMb2NhdGlvbkluZGV4KHRtcExvY2F0aW9uKTtcbiAgICAgICAgICAgIC8vIGlmIG9jY3VwaWVkLCBzdG9wIGNvdW50aW5nIGRpcmVjdGlvblxuICAgICAgICAgICAgaWYgKGNoZWNrT2NjdXBpZWQodG1wTG9jYXRpb25JbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgbG9jYXRpb24gdG8gYXJyYXkgaWYgZW1wdHlcbiAgICAgICAgICAgIGluZGV4QXJyYXkucHVzaChnZXRMb2NhdGlvbkluZGV4KHRtcExvY2F0aW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHdob2xlIHNoaXAgZml0c1xuICAgICAgICBpZiAoaW5kZXhBcnJheS5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV4QXJyYXkgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIGZpdHMsIHNldCBvY2N1cHkgc3dpdGNoIGZvciBsb2NhdGlvbnNcbiAgICAgICAgICAgIHJldHVybiBpbmRleEFycmF5O1xuICAgICAgICB9ICBcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja1Bvc3NpYmxlUGxhY2VtZW50cyA9IChzaGlwLCBsb2NhdGlvbikgPT4ge1xuICAgICAgICBsZXQgcG9zc2libGVNb3ZlcyA9IFtdO1xuICAgICAgICBsZXQgbm9ydGhJbmRleEFycmF5ID0gY2hlY2tOb3J0aChzaGlwLnNoaXBEYXRhLmxlbmd0aCwgbG9jYXRpb24pO1xuICAgICAgICBsZXQgZWFzdEluZGV4QXJyYXkgPSBjaGVja0Vhc3Qoc2hpcC5zaGlwRGF0YS5sZW5ndGgsIGxvY2F0aW9uKTtcbiAgICAgICAgbGV0IHNvdXRoSW5kZXhBcnJheSA9IGNoZWNrU291dGgoc2hpcC5zaGlwRGF0YS5sZW5ndGgsIGxvY2F0aW9uKTtcbiAgICAgICAgbGV0IHdlc3RJbmRleEFycmF5ID0gY2hlY2tXZXN0KHNoaXAuc2hpcERhdGEubGVuZ3RoLCBsb2NhdGlvbik7XG4gICAgICAgIFxuICAgICAgICBpZiAobm9ydGhJbmRleEFycmF5KSB7XG4gICAgICAgICAgICBwb3NzaWJsZU1vdmVzLnB1c2goeyBkaXJlY3Rpb246IFwibm9ydGhcIiwgaW5kZXhBcnJheTogbm9ydGhJbmRleEFycmF5IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zc2libGVNb3Zlcy5wdXNoKHsgZGlyZWN0aW9uOiBcIm5vcnRoXCIsIGluZGV4QXJyYXk6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlYXN0SW5kZXhBcnJheSkge1xuICAgICAgICAgICAgcG9zc2libGVNb3Zlcy5wdXNoKHsgZGlyZWN0aW9uOiBcImVhc3RcIiwgaW5kZXhBcnJheTogZWFzdEluZGV4QXJyYXkgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NzaWJsZU1vdmVzLnB1c2goeyBkaXJlY3Rpb246IFwiZWFzdFwiLCBpbmRleEFycmF5OiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291dGhJbmRleEFycmF5KSB7XG4gICAgICAgICAgICBwb3NzaWJsZU1vdmVzLnB1c2goeyBkaXJlY3Rpb246IFwic291dGhcIiwgaW5kZXhBcnJheTogc291dGhJbmRleEFycmF5IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zc2libGVNb3Zlcy5wdXNoKHsgZGlyZWN0aW9uOiBcInNvdXRoXCIsIGluZGV4QXJyYXk6IGZhbHNlIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdlc3RJbmRleEFycmF5KSB7XG4gICAgICAgICAgICBwb3NzaWJsZU1vdmVzLnB1c2goeyBkaXJlY3Rpb246IFwid2VzdFwiLCBpbmRleEFycmF5OiB3ZXN0SW5kZXhBcnJheSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc3NpYmxlTW92ZXMucHVzaCh7IGRpcmVjdGlvbjogXCJ3ZXN0XCIsIGluZGV4QXJyYXk6IGZhbHNlIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhwb3NzaWJsZU1vdmVzKTtcbiAgICAgICAgcmV0dXJuIHBvc3NpYmxlTW92ZXM7XG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tBbGxQbGFjZWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNoaXBzTG9jYXRpb25BcnJheS5sZW5ndGgpO1xuICAgICAgICBpZiAoc2hpcHNMb2NhdGlvbkFycmF5Lmxlbmd0aCA+PSA1KSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndHJ1ZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmFsc2UnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGJvYXJkTG9jQXJyYXksXG4gICAgICAgIHNoaXBzTG9jYXRpb25BcnJheSxcbiAgICAgICAgcGxhY2VTaGlwLFxuICAgICAgICByZWNlaXZlQXR0YWNrLFxuICAgICAgICBjaGVja0lmTG9zdCxcbiAgICAgICAgZ2V0TG9jYXRpb25JbmRleCxcbiAgICAgICAgY2hlY2tBbGxQbGFjZWQsXG4gICAgfTtcbn1cblxuXG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDsiLCJjb25zdCBQbGF5ZXIgPSAobmFtZSwgaXNBSSwgYm9hcmRXaWR0aCkgPT4ge1xuICAgIGlmIChpc0FJKSB7XG4gICAgICAgIGNvbnN0IGF0dGFja0hpc3RvcnkgPSBbXTtcbiAgICAgICAgY29uc3QgcGxhY2VtZW50SGlzdG9yeSA9IFtdO1xuICAgICAgICBjb25zdCBsYXN0SGl0Q29vcmRzID0gW107XG4gICAgICAgIGNvbnN0IGFkamFjZW50Q29vcmRzID0gW107XG5cbiAgICAgICAgY29uc3QgY2hlY2tBdHRhY2tIaXN0b3J5ID0gKGF0dGFja0Nvb3JkcykgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYXR0YWNrSGlzdG9yeSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dGFja0hpc3RvcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0YWNrQ29vcmRzWzBdID09PSBhdHRhY2tIaXN0b3J5W2ldWzBdICYmXG4gICAgICAgICAgICAgICAgICAgIGF0dGFja0Nvb3Jkc1sxXSA9PT0gYXR0YWNrSGlzdG9yeVtpXVsxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQWxyZWFkeSBBdHRhY2tlZCBIZXJlIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoZWNrUGxhY2VtZW50SGlzdG9yeSA9IChwbGFjZW1lbnRDb29yZHMpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBsYWNlbWVudEhpc3RvcnkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGFjZW1lbnRIaXN0b3J5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlbWVudENvb3Jkc1swXSA9PT0gcGxhY2VtZW50SGlzdG9yeVtpXVswXSAmJlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRDb29yZHNbMV0gPT09IHBsYWNlbWVudEhpc3RvcnlbaV1bMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFscmVhZHkgdHJpZWQgdG8gcGxhY2UgSGVyZSFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5kb21BdHRhY2tDb29yZHMgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChhZGphY2VudENvb3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05lZWQgdG8gYXR0YWNrIGFkamFjZW50IGxvY2F0aW9ucycpO1xuICAgICAgICAgICAgICAgIGxldCBhdHRhY2tMb2NhdGlvbiA9IGFkamFjZW50Q29vcmRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBZGphY2VudCBDb29yZHNcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWRqYWNlbnRDb29yZHMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF0dGFja0xvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2hlY2tBdHRhY2tIaXN0b3J5KGF0dGFja0xvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRqYWNlbnRDb29yZHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dldCBSYW5kb20gTW92ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrTG9jYXRpb24gPSByYW5kb21Db29yZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRhY2tMb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhdHRhY2tMb2NhdGlvbiA9IGFkamFjZW50Q29vcmRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF0dGFja0xvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBhdHRhY2tIaXN0b3J5LnB1c2goYXR0YWNrTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRhY2tMb2NhdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbUxvY2F0aW9uID0gcmFuZG9tQ29vcmRzKCk7XG4gICAgICAgICAgICAgICAgYXR0YWNrSGlzdG9yeS5wdXNoKHJhbmRvbUxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZG9tTG9jYXRpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5kb21Db29yZHMgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBnZXQgTWF4IG51bWJlciBmcm9tIGxhc3QgbG9jYXRpb25cbiAgICAgICAgICAgIGNvbnN0IG1heE51bWJlciA9IGJvYXJkV2lkdGggfHwgOTtcbiAgICAgICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4TnVtYmVyKTtcbiAgICAgICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4TnVtYmVyKTtcbiAgICAgICAgICAgIGxldCByYW5kb21Mb2NhdGlvbiA9IFt4LCB5XTtcbiAgICAgICAgICAgIHdoaWxlIChjaGVja0F0dGFja0hpc3RvcnkocmFuZG9tTG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heE51bWJlcik7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heE51bWJlcik7XG4gICAgICAgICAgICAgICAgcmFuZG9tTG9jYXRpb24gPSBbeCx5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByYW5kb21Mb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5kb21QbGFjZW1lbnRDb29yZHMgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBnZXQgTWF4IG51bWJlciBmcm9tIGxhc3QgbG9jYXRpb25cbiAgICAgICAgICAgIGNvbnN0IG1heE51bWJlciA9IGJvYXJkV2lkdGggfHwgOTtcbiAgICAgICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4TnVtYmVyKTtcbiAgICAgICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4TnVtYmVyKTtcbiAgICAgICAgICAgIGxldCByYW5kb21Mb2NhdGlvbiA9IFt4LCB5XTtcbiAgICAgICAgICAgIHdoaWxlIChjaGVja1BsYWNlbWVudEhpc3RvcnkocmFuZG9tTG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heE51bWJlcik7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heE51bWJlcik7XG4gICAgICAgICAgICAgICAgcmFuZG9tTG9jYXRpb24gPSBbeCx5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYWNlbWVudEhpc3RvcnkucHVzaChyYW5kb21Mb2NhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gcmFuZG9tTG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xlYXJOZXdHYW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgYXR0YWNrSGlzdG9yeS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcGxhY2VtZW50SGlzdG9yeS5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldExhc3RIaXRDb29yZHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhdHRhY2tIaXN0b3J5KTtcbiAgICAgICAgICAgIGxhc3RIaXRDb29yZHMucHVzaChhdHRhY2tIaXN0b3J5W2F0dGFja0hpc3RvcnkubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobGFzdEhpdENvb3Jkcyk7XG4gICAgICAgICAgICBpZiAobGFzdEhpdENvb3Jkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGFzdEhpdENvb3Jkcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGFkamFjZW50Q29vcmRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRBZGplY2VudENvb3JkcygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobGFzdEhpdENvb3Jkcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2V0QWRqZWNlbnRDb29yZHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3J0aEFkamVjZW50ID0gW2xhc3RIaXRDb29yZHNbMF1bMF0gLSAxLCBsYXN0SGl0Q29vcmRzWzBdWzFdXTtcbiAgICAgICAgICAgIGNvbnN0IGVhc3RBZGplY2VudCA9IFtsYXN0SGl0Q29vcmRzWzBdWzBdLCBsYXN0SGl0Q29vcmRzWzBdWzFdICsgMV07XG4gICAgICAgICAgICBjb25zdCBzb3V0aEFkamVjZW50ID0gW2xhc3RIaXRDb29yZHNbMF1bMF0gKyAxLCBsYXN0SGl0Q29vcmRzWzBdWzFdXTtcbiAgICAgICAgICAgIGNvbnN0IFdlc3RBZGplY2VudCA9IFtsYXN0SGl0Q29vcmRzWzBdWzBdLCBsYXN0SGl0Q29vcmRzWzBdWzFdIC0gMV07XG4gICAgICAgICAgICBhZGphY2VudENvb3Jkcy5wdXNoKG5vcnRoQWRqZWNlbnQsIGVhc3RBZGplY2VudCwgc291dGhBZGplY2VudCwgV2VzdEFkamVjZW50KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFkamFjZW50Q29vcmRzKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICByYW5kb21BdHRhY2tDb29yZHMsXG4gICAgICAgICAgICByYW5kb21QbGFjZW1lbnRDb29yZHMsXG4gICAgICAgICAgICBjbGVhck5ld0dhbWUsXG4gICAgICAgICAgICBzZXRMYXN0SGl0Q29vcmRzLFxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjsiLCJpbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL0dhbWVib2FyZFwiO1xuaW1wb3J0IHsgY2hlY2tNdWx0aXBsYXllciwgcGxheWVyMSwgcGxheWVyMiB9IGZyb20gXCIuL2dhbWVMb29wXCI7XG5cbmNvbnN0IGRyYXdTdGFydEJ1dHRvbiA9ICgpID0+IHtcbiAgICAvLyBDcmVhdGUgc3RhcnRCdXR0b24gY29udGFpbmVyXG4gICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBzdGFydEJ1dHRvbi5pZCA9ICdzdGFydEJ1dHRvbic7XG4gICAgc3RhcnRCdXR0b24uY2xhc3NMaXN0LmFkZCgnc3RhcnRCdXR0b24nKTtcbiAgICBzdGFydEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU3RhcnQgTmV3IEdhbWVcIjtcbiAgICBzdGFydEJ1dHRvbi52YWx1ZSA9IFwiU3RhcnQgTmV3IEdhbWVcIjtcblxuICAgIHJldHVybiBzdGFydEJ1dHRvbjtcblxufVxuXG5jb25zdCBuZXdHYW1lQnV0dG9uID0gKHBsYXllcjEsIHBsYXllcjIsIG11bHRpKSA9PiB7XG4gICAgLy8gR2V0IENvbnRlbnQgY29udGFpbmVyXG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XG5cbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRyYXdTdGFydEJ1dHRvbigpO1xuXG4gICAgc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRvZ2dsZVN0YXJ0QnV0dG9uKCk7XG4gICAgICAgIGxldCBwbGF5QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5QXJlYScpO1xuICAgICAgICAvLyBSZXNldCBnYW1lIGlmIGFscmVhZHkgcGxheWVkXG4gICAgICAgIGlmIChwbGF5ZXIxLmdhbWVib2FyZC5zaGlwc0xvY2F0aW9uQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gcmVzZXQgcGxhY2VkIHNoaXBzIGFuZCBnYW1lYm9hcmRzXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnb2xkIGdhbWUnKTtcbiAgICAgICAgICAgIHBsYXlBcmVhLnJlcGxhY2VXaXRoKGRyYXdHYW1lYm9hcmRzKCkpO1xuICAgICAgICAgICAgcGxheWVyMS5nYW1lYm9hcmQgPSBHYW1lYm9hcmQoMTAsIDEwKTtcbiAgICAgICAgICAgIHBsYXllcjIuZ2FtZWJvYXJkID0gR2FtZWJvYXJkKDEwLCAxMCk7XG4gICAgICAgICAgICBwbGF5ZXIyLmNoYXJhY3Rlci5jbGVhck5ld0dhbWUoKTtcbiAgICAgICAgICAgIHBsYXlBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXlBcmVhJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5QXJlYSk7XG4gICAgICAgIC8vIFRFU1RJTkcgUkVNT1ZFIFRPIFBMQVkgKEFVVE9QTEFDRVMgU0hJUFMpXG4gICAgICAgIHBsYXllcjEuZ2FtZWJvYXJkLnBsYWNlU2hpcCg1LCBbNSw1XSwgMyk7XG4gICAgICAgIHBsYXllcjEuZ2FtZWJvYXJkLnBsYWNlU2hpcCg0LCBbNiw1XSwgMyk7XG4gICAgICAgIHBsYXllcjEuZ2FtZWJvYXJkLnBsYWNlU2hpcCgzLCBbNyw1XSwgMyk7XG4gICAgICAgIHBsYXllcjEuZ2FtZWJvYXJkLnBsYWNlU2hpcCgzLCBbNCw1XSwgMCk7XG4gICAgICAgIHBsYXllcjEuZ2FtZWJvYXJkLnBsYWNlU2hpcCgyLCBbNSw4XSwgMyk7ICAgXG4gICAgICAgIHNldFNoaXBzKHBsYXllcjEsIDEpO1xuICAgICAgICBzZXRBSVNoaXBzKCk7XG4gICAgICAgIC8vIFRFU1RJTkcgUkVNT1ZFIFRPIFBMQVlcblxuICAgICAgICAvLyByZXR1cm4gcGxheUFyZWEuYXBwZW5kQ2hpbGQoY3JlYXRlU2hpcElucHV0KCkpO1xuXG4gICAgfSwge29uY2U6IGZhbHNlfSlcblxuICAgIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQoc3RhcnRCdXR0b24pO1xufVxuXG5cblxuY29uc3QgY3JlYXRlU2hpcElucHV0ID0gKG11bHRpKSA9PiB7XG4gICAgaWYgKG11bHRpKSB7XG4gICAgICAgIC8vIG11bHRpcGxheWVyIGNvZGUgYWRkcyBidXR0b25zIGZvciAxICYgMiBwbGF5ZXIgXG4gICAgICAgIC8vIG9yIGFkZCBidXR0b25zIGZvciBwbGF5ZXIxIHRoZW4gZm9yIHBsYXllcjIgd2hlbiBwbGF5ZXIxIHBsYWNlZFxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFkZCBTaGlwbmFtZSBpbnB1dFxuICAgICAgICBjb25zdCBpbnB1dFBsYWNlbWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgaW5wdXRQbGFjZW1lbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaW5wdXRGb3JtJyk7XG4gICAgICAgIGlucHV0UGxhY2VtZW50Q29udGFpbmVyLmlkID0gXCJwbGF5ZXIxSW5wdXRcIjtcblxuICAgICAgICBjb25zdCBpbnB1dFNoaXBOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXRTaGlwTmFtZS5wbGFjZWhvbGRlciA9IFwiRW50ZXIgU2hpcCBOYW1lXCJcblxuICAgICAgICBjb25zdCBidG5QbGFjZVNoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnRuUGxhY2VTaGlwLnRleHRDb250ZW50ID0gXCJQbGFjZSBTaGlwXCI7XG4gICAgICAgIGJ0blBsYWNlU2hpcC52YWx1ZSA9IFwiUGxhY2UgU2hpcFwiO1xuICAgICAgICBidG5QbGFjZVNoaXAuY2xhc3NMaXN0LmFkZCgnYnRuUGxhY2VTaGlwJyk7XG4gICAgICAgIGJ0blBsYWNlU2hpcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBidG5TZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5TZWxlY3RlZCcpO1xuICAgICAgICAgICAgYnRuUGxhY2VTaGlwLmNsYXNzTGlzdC5hZGQoJ2J0bkZvY3VzZWQnKTtcbiAgICAgICAgICAgIGlmIChidG5TZWxlY3RlZCkge1xuICAgICAgICAgICAgcGxhY2VTaGlwc0RPTShwbGF5ZXIxLCBwbGF5ZXIyLCAwLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJObyBzaGlwIFNlbGVjdGVkLiBDaG9vc2Ugc2hpcCB0byBwbGFjZS5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuXG4gICAgICAgIGNvbnN0IHNoaXBCdG5Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2hpcEJ0bkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmbGV4Jyk7XG4gICAgICAgIC8vIGFkZCBwbGF5ZXIxIHNoaXBidXR0b25zXG4gICAgICAgIGxldCBqID0gMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgdG1wQnV0dG9uLnRleHRDb250ZW50ID0gYCR7an0gbGVuZ3RoYDtcbiAgICAgICAgICAgIHRtcEJ1dHRvbi52YWx1ZSA9IGAke2p9YDtcbiAgICAgICAgICAgIHRtcEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG5TaGlwJyk7XG4gICAgICAgICAgICAvLyB0bXBCdXR0b24ubmFtZSA9IGBidG5TaGlwJHtpfWBcbiAgICAgICAgICAgIHRtcEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0blNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0blNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgaWYgKGJ0blNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ0blNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ2J0blNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2J0blNlbGVjdGVkJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc2hpcEJ0bkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0bXBCdXR0b24pO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcEJ0bkNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICAgICAgLy8gVXNlZCBmb3Igc2hpcCBMZW5ndGhzIDIsMywzLDQsNVxuICAgICAgICAgICAgaWYgKHNoaXBCdG5Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICBpZiAoc2hpcEJ0bkNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPiAxICYmIHNoaXBCdG5Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXRQbGFjZW1lbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXRTaGlwTmFtZSk7XG4gICAgICAgIGlucHV0UGxhY2VtZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGJ0blBsYWNlU2hpcCk7XG4gICAgICAgIGlucHV0UGxhY2VtZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNoaXBCdG5Db250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiBpbnB1dFBsYWNlbWVudENvbnRhaW5lcjtcblxuICAgIH1cbn1cblxuY29uc3QgcGxhY2VTaGlwc0RPTSA9IChwbGF5ZXIxLCBwbGF5ZXIyLCByYW5kb20sIG11bHRpKSA9PiB7XG4gICAgaWYgKHJhbmRvbSkge1xuICAgICAgICAvLyByYW5kb21seSBzZXQgYWxsIHNoaXBzXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG11bHRpKSB7XG4gICAgICAgICAgICAvL2FkZCBwbGFjZW1lbnQgbGlzdGVuZXJzIGZvciBwbGF5ZXIxXG4gICAgICAgICAgICAvLyBhbGxvdyBwbGF5ZXIxIHRvIHBsYWNlIHNoaXBzXG5cbiAgICAgICAgICAgIC8vIHRoZW4gcGxhY2UgbGlzdGVuZXJzIGZvciBwbGF5ZXIyXG4gICAgICAgICAgICAvLyBhbGxvdyBwbGF5ZXIyIHRvIHBsYWNlIHNoaXBzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgLy9hZGQgcGxhY2VtZW50IGxpc3RlbmVycyBmb3IgcGxheWVyMVxuICAgICAgICAgICAgYWRkUGxhY2VtZW50TGlzdGVuZXJzKHBsYXllcjEsIDEpO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGRyYXdOYXJyYXRpdmVCb2FyZCA9ICgpID0+IHtcbiAgICAvLyBHZXQgQ29udGVudCBjb250YWluZXJcbiAgICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbiAgICAvLyBDcmVhdGUgbmFycmF0aXZlIGJvYXJkIGNvbnRhaW5lclxuICAgIGNvbnN0IG5hcnJhdGl2ZUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmFycmF0aXZlQm9hcmQuY2xhc3NMaXN0LmFkZCgnbmFycmF0aXZlQm9hcmQnKTtcbiAgICAvLyBDcmVhdGUgbmFycmF0aXZlIHRleHRcbiAgICBjb25zdCBuYXJyYXRpdmVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIG5hcnJhdGl2ZVRleHQudGV4dENvbnRlbnQgPSBcIldlbGNvbWUgdG8gQmF0dGxlU2hpcFwiO1xuICAgIC8vIGFwcGVuZCBlbGVtZW50c1xuICAgIG5hcnJhdGl2ZUJvYXJkLmFwcGVuZENoaWxkKG5hcnJhdGl2ZVRleHQpO1xuICAgIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQobmFycmF0aXZlQm9hcmQpO1xufVxuXG4vLyBSZWZhY3RvciB0byB0YWtlIG1ha2UgMSBnYW1lYm9hcmQgYXQgYSB0aW1lIGFuZCByZXR1cm4gdGhhdCBnYW1lYm9hcmRcbmNvbnN0IGRyYXdHYW1lYm9hcmRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGxlZ2VuZCA9IFtcbiAgICAgICAgJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLFxuICAgICAgICAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWidcbiAgICBdXG4gICAgLy8gR2V0IGNvbnRlbnQgY29udGFpbmVyXG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XG5cbiAgICAvLyBjcmVhdGUgY29udGFpbmVyIGVsZW1lbnQgZm9yIGdhbWVCb2FyZHNcbiAgICBjb25zdCBib2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBib2FyZHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncGxheUFyZWEnKTtcblxuICAgIC8vIGNyZWF0ZSBncmlkIEFscGhhIGxhYmVsIGNvbnRhaW5lciBcbiAgICBjb25zdCBncmlkQWxwaGFMYWJlbHMxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZ3JpZEFscGhhTGFiZWxzMS5jbGFzc0xpc3QuYWRkKCdhbHBoYUdyaWRDb250YWluZXInKTtcblxuICAgIC8vIGNyZWF0ZSBncmlkIE51bSBsYWJlbCBjb250YWluZXIgXG4gICAgY29uc3QgZ3JpZE51bUxhYmVsczEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBncmlkTnVtTGFiZWxzMS5jbGFzc0xpc3QuYWRkKCdudW1HcmlkQ29udGFpbmVyJyk7XG5cbiAgICAvLyBjcmVhdGUgTUFJTiBncmlkIGNvbnRhaW5lciBmb3IgcGxheWVyMVxuICAgIGNvbnN0IHBsYXllcjFHcmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGxheWVyMUdyaWQuY2xhc3NMaXN0LmFkZCgnZ3JpZENvbnRhaW5lcicpO1xuICAgIHBsYXllcjFHcmlkLmlkID0gXCJwbGF5ZXIxQXJlYVwiO1xuXG4gICAgLy8gY3JlYXRlIHBsYXllcjEgcGxheSBhcmVhIGdyaWQgY29udGFpbmVyXG4gICAgY29uc3QgcGxheWVyMVBsYXlBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGxheWVyMVBsYXlBcmVhLmNsYXNzTGlzdC5hZGQoJ2dyaWRQbGF5ZXJBcmVhJyk7XG5cbiAgICAvLyBjcmVhdGUvYXBwZW5kIEdhbWVib2FyZCBsYWJlbHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgbGV0IGdyaWRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBncmlkTGFiZWwuY2xhc3NMaXN0LmFkZCgnZ3JpZExhYmVsQWxwaGEnKTtcbiAgICAgICAgZ3JpZExhYmVsLnRleHRDb250ZW50ID0gbGVnZW5kW2ldO1xuICAgICAgICBncmlkQWxwaGFMYWJlbHMxLmFwcGVuZENoaWxkKGdyaWRMYWJlbCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGxldCBncmlkTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZ3JpZExhYmVsLmNsYXNzTGlzdC5hZGQoJ2dyaWRMYWJlbE51bScpO1xuICAgICAgICBncmlkTGFiZWwudGV4dENvbnRlbnQgPSBpICsgMTtcbiAgICAgICAgZ3JpZE51bUxhYmVsczEuYXBwZW5kQ2hpbGQoZ3JpZExhYmVsKTtcbiAgICB9XG5cbiAgICAvLyBsb29wIHRocm91Z2ggZ2FtZWJvYXJkXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICAvL2NyZWF0ZSBncmlkSXRlbSBmb3IgZWFjaCBnYW1lYm9hcmQgbG9jYXRpb25cbiAgICAgICAgbGV0IGdyaWRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGdyaWRJdGVtLmNsYXNzTGlzdC5hZGQoJ2dyaWRMb2NhdGlvbicpO1xuICAgICAgICBncmlkSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpKTtcbiAgICAgICAgLy8gZ3JpZEl0ZW0udGV4dENvbnRlbnQgPSBcIlhcIjtcbiAgICAgICAgLy8gYXBwZW5kIGdyaWRJdGVtIHRvIGdyaWQgY29udGFpbmVyXG4gICAgICAgIHBsYXllcjFQbGF5QXJlYS5hcHBlbmRDaGlsZChncmlkSXRlbSk7XG4gICAgfVxuXG4gICAgLy8gYXBwZW5kIG5ld2x5IGNyZWF0ZWQgZWxlbWVudHMgdG8gbWFpbiBwbGF5ZXIgY29udGFpbmVyXG4gICAgcGxheWVyMUdyaWQuYXBwZW5kQ2hpbGQoZ3JpZEFscGhhTGFiZWxzMSk7XG4gICAgcGxheWVyMUdyaWQuYXBwZW5kQ2hpbGQoZ3JpZE51bUxhYmVsczEpO1xuICAgIHBsYXllcjFHcmlkLmFwcGVuZENoaWxkKHBsYXllcjFQbGF5QXJlYSk7XG5cbiAgICAvLyBjcmVhdGUgTUFJTiBncmlkIGNvbnRhaW5lciBmb3IgcGxheWVyMlxuICAgIGNvbnN0IHBsYXllcjJHcmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGxheWVyMkdyaWQuY2xhc3NMaXN0LmFkZCgnZ3JpZENvbnRhaW5lcicpO1xuICAgIHBsYXllcjJHcmlkLmlkID0gXCJwbGF5ZXIyQXJlYVwiO1xuXG4gICAgLy8gQWRkIEdhbWVib2FyZCBsYWJlbHNcbiAgICBjb25zdCBncmlkQWxwaGFMYWJlbHMyID0gZ3JpZEFscGhhTGFiZWxzMS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgY29uc3QgZ3JpZE51bUxhYmVsczIgPSBncmlkTnVtTGFiZWxzMS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgY29uc3QgcGxheWVyMlBsYXlBcmVhID0gcGxheWVyMVBsYXlBcmVhLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vIGFwcGVuZCBuZXdseSBjcmVhdGVkIGVsZW1lbnRzIHRvIG1haW4gcGxheWVyIGNvbnRhaW5lclxuICAgIHBsYXllcjJHcmlkLmFwcGVuZENoaWxkKGdyaWRBbHBoYUxhYmVsczIpO1xuICAgIHBsYXllcjJHcmlkLmFwcGVuZENoaWxkKGdyaWROdW1MYWJlbHMyKTtcbiAgICBwbGF5ZXIyR3JpZC5hcHBlbmRDaGlsZChwbGF5ZXIyUGxheUFyZWEpO1xuXG4gICAgLy8gQWRkIHRvIERPTVxuICAgIGJvYXJkc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwbGF5ZXIxR3JpZCk7XG4gICAgYm9hcmRzQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXllcjJHcmlkKTtcblxuICAgIHJldHVybiBib2FyZHNDb250YWluZXI7XG59XG5cbmNvbnN0IHNldFNoaXBzID0gKHBsYXllciwgcGxheWVySW5kZXgpID0+IHtcbiAgICAvLyBnZXQgcGxheWVyIGFyZWFcbiAgICBjb25zdCBwbGF5ZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcGxheWVyJHtwbGF5ZXJJbmRleH1BcmVhYCk7XG4gICAgLy8gZ2V0IHBsYXllciBjb29yZCBsb2NhdGlvbiBhcmVhXG4gICAgY29uc3QgcGxheUFyZWFOb2RlTGlzdCA9IHBsYXllckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZ3JpZExvY2F0aW9uJyk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggZWFjaCBzaGlwXG4gICAgcGxheWVyLmdhbWVib2FyZC5zaGlwc0xvY2F0aW9uQXJyYXkuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggZWFjaCBzaGlwIGNvb3JkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwRGF0YS5sb2NhdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gZmluZCBsb2NhaXRvbiBpbiBET01cbiAgICAgICAgICAgIGxldCB0bXBMb2NhdGlvbiA9IGZpbmROb2RlKHBsYXlBcmVhTm9kZUxpc3QsIHNoaXAuc2hpcERhdGEubG9jYXRpb25baV0pO1xuICAgICAgICAgICAgLy8gc2V0IGNsYXNzIGZvciBET00gZGlzcGxheVxuICAgICAgICAgICAgdG1wTG9jYXRpb24uY2xhc3NMaXN0LmFkZCgnc2hpcExvY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5jb25zdCBzZXRTaW5nbGVTaGlwID0gKHBsYXllciwgcGxheWVySW5kZXgpID0+IHtcbiAgICAgICAgLy8gZ2V0IHBsYXllciBhcmVhXG4gICAgICAgIGNvbnN0IHBsYXllckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGF5ZXIke3BsYXllckluZGV4fUFyZWFgKTtcbiAgICAgICAgLy8gZ2V0IHBsYXllciBjb29yZCBsb2NhdGlvbiBhcmVhXG4gICAgICAgIGNvbnN0IHBsYXlBcmVhTm9kZUxpc3QgPSBwbGF5ZXJDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmdyaWRMb2NhdGlvbicpO1xuICAgIFxuICAgICAgICAvLyBnZXQgc2hpcFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzTG9jYXRpb25BcnJheS5sZW5ndGgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzTG9jYXRpb25BcnJheSk7XG4gICAgICAgIGNvbnN0IHNoaXAgPSBwbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzTG9jYXRpb25BcnJheVtwbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzTG9jYXRpb25BcnJheS5sZW5ndGggLSAxXTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzaGlwKTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggZWFjaCBzaGlwIGNvb3JkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwRGF0YS5sb2NhdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gZmluZCBsb2NhaXRvbiBpbiBET01cbiAgICAgICAgICAgIGxldCB0bXBMb2NhdGlvbiA9IGZpbmROb2RlKHBsYXlBcmVhTm9kZUxpc3QsIHNoaXAuc2hpcERhdGEubG9jYXRpb25baV0pO1xuICAgICAgICAgICAgLy8gc2V0IGNsYXNzIGZvciBET00gZGlzcGxheVxuICAgICAgICAgICAgdG1wTG9jYXRpb24uY2xhc3NMaXN0LmFkZCgnc2hpcExvY2F0aW9uJyk7XG4gICAgICAgICAgICB0bXBMb2NhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdjb29yZEhvdmVyUGxhY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBmb2N1cyBmcm9tIGJ1dHRvblxuICAgICAgICBsZXQgYnRuU2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuU2VsZWN0ZWQnKTtcbiAgICAgICAgYnRuU2VsZWN0ZWQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBidG5TZWxlY3RlZC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlQ2xpY2snKTtcbiAgICAgICAgYnRuU2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnYnRuU2VsZWN0ZWQnKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBhbGwgc2hpcHMgaGF2ZSBiZWVuIHBsYWNlZFxuICAgICAgICBpZiAocGxheWVyLmdhbWVib2FyZC5jaGVja0FsbFBsYWNlZCgpKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgcGxhY2VtZW50IGV2ZW50IGxpc3RlbmVycyAoZGlzYWJsZT8pXG4gICAgICAgICAgICByZW1vdmVMb2NhdGlvbkxpc3RlbmVycygxKTtcbiAgICAgICAgICAgIGNvbnN0IGJ0blBsYWNlU2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5QbGFjZVNoaXAnKTtcbiAgICAgICAgICAgIGJ0blBsYWNlU2hpcC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBidG5QbGFjZVNoaXAuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZUNsaWNrJyk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgSW5wdXQgb3B0aW9uc1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYXllcjFJbnB1dCcpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgLy8gcGxhY2UgQUkgc2hpcHMgXG4gICAgICAgICAgICBzZXRBSVNoaXBzKCk7XG4gICAgICAgICAgICAvLyBhZGQgYXR0YWNrIGV2ZW50IGxpc3RlbmVycyBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZvY3VzIG5leHQgc2hpcCBidXR0b25cbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuU2hpcCcpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGFjZW1lbnRCdG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbGFjZW1lbnRCdG5zW2ldLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZUNsaWNrJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50QnRuc1tpXS5jbGFzc0xpc3QuYWRkKCdidG5TZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbn1cblxuY29uc3Qgc2V0QUlTaGlwcyA9ICgpID0+IHtcbiAgICB3aGlsZSAoIXBsYXllcjIuZ2FtZWJvYXJkLnBsYWNlU2hpcCg1LCBwbGF5ZXIyLmNoYXJhY3Rlci5yYW5kb21QbGFjZW1lbnRDb29yZHMoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkpKSB7XG4gICAgfVxuICAgIHdoaWxlICghcGxheWVyMi5nYW1lYm9hcmQucGxhY2VTaGlwKDQsIHBsYXllcjIuY2hhcmFjdGVyLnJhbmRvbVBsYWNlbWVudENvb3JkcygpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSkpIHtcbiAgICB9XG4gICAgd2hpbGUgKCFwbGF5ZXIyLmdhbWVib2FyZC5wbGFjZVNoaXAoMywgcGxheWVyMi5jaGFyYWN0ZXIucmFuZG9tUGxhY2VtZW50Q29vcmRzKCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpKSkge1xuICAgIH1cbiAgICB3aGlsZSAoIXBsYXllcjIuZ2FtZWJvYXJkLnBsYWNlU2hpcCgzLCBwbGF5ZXIyLmNoYXJhY3Rlci5yYW5kb21QbGFjZW1lbnRDb29yZHMoKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkpKSB7XG4gICAgfVxuICAgIHdoaWxlICghcGxheWVyMi5nYW1lYm9hcmQucGxhY2VTaGlwKDIsIHBsYXllcjIuY2hhcmFjdGVyLnJhbmRvbVBsYWNlbWVudENvb3JkcygpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSkpIHtcbiAgICB9XG5cbiAgICAvLyBURVNUSU5HXG4gICAgLy8gY29uc29sZS5sb2coXCJTZXQgQUkgU2hpcHMhXCIpO1xuICAgIHNldFNoaXBzKHBsYXllcjIsIDIpO1xuICAgIGFkZEF0dGFja0xpc3RlbmVycyhwbGF5ZXIyLCAyKTtcbn1cblxuY29uc3QgZmluZE5vZGUgPSAobm9kZUxpc3QsIGluZGV4KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoTnVtYmVyKG5vZGVMaXN0W2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlTGlzdFtpXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgYWRkQXR0YWNrTGlzdGVuZXJzID0gKHBsYXllciwgaW5kZXgpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIpO1xuICAgIGNvbnN0IHBsYXllckNvb3JkTG9jYXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3BsYXllciR7aW5kZXh9QXJlYWApLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ncmlkTG9jYXRpb24nKTtcbiAgICBwbGF5ZXJDb29yZExvY2F0aW9ucy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgICBjb29yZC5jbGFzc0xpc3QuYWRkKCdjb29yZEhvdmVyQXR0YWNrJyk7XG4gICAgICAgIGNvb3JkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Nvb3JkSG92ZXJBdHRhY2snKTtcbiAgICAgICAgICAgIGhhbmRsZUF0dGFjayhlLnRhcmdldCwgcGxheWVyLCBpbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSwge29uY2U6IHRydWV9KVxuICAgIH0pXG59XG5jb25zdCByZW1vdmVMb2NhdGlvbkxpc3RlbmVycyA9IChpbmRleCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZpbmcgRXZlbnQgTGlzdGVuZXJzXCIpO1xuICAgIGNvbnN0IHBsYXllckNvb3JkTG9jYXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3BsYXllciR7aW5kZXh9QXJlYWApLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ncmlkTG9jYXRpb24nKTtcbiAgICBwbGF5ZXJDb29yZExvY2F0aW9ucy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgICBjb29yZC5jbGFzc0xpc3QucmVtb3ZlKCdjb29yZEhvdmVyUGxhY2UnKTtcbiAgICAgICAgLy8gcmVwbGFjZXMgd2l0aCBodG1sIHN0cmluZywgc3RyaXBwaW5nIGFsbCBqcyAoZXZlbnRMaXN0ZW5lcnMpXG4gICAgICAgIGNvb3JkLm91dGVySFRNTCA9IGNvb3JkLm91dGVySFRNTDtcbiAgICAgICAgXG4gICAgfSlcbn1cblxuY29uc3QgY2xlYXJTZWxlY3RlZENvb3JkcyA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQ2xlYXJlZCBDb29yZCBMb2NhdGlvbicpO1xuICAgIGNvbnN0IGNob3NlbkNvb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNob3NlbkxvY2F0aW9uJyk7XG4gICAgLy8gcmVtb3ZlIGJ1dHRvbnMgYW5kIGNob3NlbkxvY2F0aW9uIGlmIGV4aXN0c1xuICAgIGlmIChjaG9zZW5Db29yZCkge1xuICAgICAgICBjaG9zZW5Db29yZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY2hvc2VuQ29vcmQuY2xhc3NMaXN0LnJlbW92ZSgnY2hvc2VuTG9jYXRpb24nKTtcbiAgICAgICAgY2hvc2VuQ29vcmQuY2xhc3NMaXN0LmFkZCgnY29vcmRIb3ZlclBsYWNlJyk7XG4gICAgfVxufVxuXG5jb25zdCBhZGRQbGFjZW1lbnRMaXN0ZW5lcnMgPSAocGxheWVyLCBpbmRleCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKHBsYXllcik7XG4gICAgY29uc3QgcGxheWVyQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGF5ZXIke2luZGV4fUFyZWFgKTtcbiAgICBpZiAocGxheWVyQXJlYS5jbGFzc0xpc3QuY29udGFpbnMoJy5kaXNhYmxlQ2xpY2snKSkge1xuICAgICAgICBwbGF5ZXJBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJy5kaXNhYmxlQ2xpY2snKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwbGF5ZXJDb29yZExvY2F0aW9ucyA9IHBsYXllckFyZWEucXVlcnlTZWxlY3RvckFsbCgnLmdyaWRMb2NhdGlvbicpO1xuICAgICAgICBwbGF5ZXJDb29yZExvY2F0aW9ucy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgICAgICAgY29vcmQuY2xhc3NMaXN0LmFkZCgnY29vcmRIb3ZlclBsYWNlJyk7XG4gICAgICAgICAgICBjb29yZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvb3JkcyBDbGlja2VkIScpO1xuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGxvY2F0aW9uIGlzIGFscmVhZHkgY2hvc2VuIGFuZCBjbGVhciBpZiB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaG9zZW5Mb2NhdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCByaWQgb2YgdGhpcyBtYXliZSB3aGVuIHNoaXAgaXMgcGxhY2luZ1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBkaXJlY3Rpb24gYnV0dG9uIGlzIGNsaWNrZWQgPiBjbGVhciBpZiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9uRGlyZWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0ZWRDb29yZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWRkIGFycm93IGJ1dHRvbnMgaW4gYWxsIGRpcmVjdGlvbnMgZnJvbSBsb2NhdGlvblxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdncmlkTG9jYXRpb24nKSl7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaG9zZW5Mb2NhdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdjaG9zZW5Mb2NhdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXBsYXllckluZGV4JywgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnY29vcmRIb3ZlclBsYWNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVEaXJlY3Rpb25CdXR0b25zKHBsYXllciwgZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LCB7b25jZTogZmFsc2V9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbn1cblxuY29uc3QgY3JlYXRlRGlyZWN0aW9uQnV0dG9ucyA9IChwbGF5ZXIsIHBhcmVudCkgPT4ge1xuICAgIC8vIGRpcmVjdGlvbiBsZWdlbmRcbiAgICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IDAsXG4gICAgICAgICAgICBzeW1ib2w6ICfihpEnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IDEsXG4gICAgICAgICAgICBzeW1ib2w6ICfihpInLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IDIsXG4gICAgICAgICAgICBzeW1ib2w6ICfihpMnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IDMsXG4gICAgICAgICAgICBzeW1ib2w6ICfihpAnLFxuICAgICAgICB9LCAgICAgICAgXG4gICAgXTtcbiAgICAvLyBjcmVhdGUvaW1wbGVtZW50IGRpcmVjdGlvbmFsIGJ1dHRvbnNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBjb25zdCB0bXBEaXJlY3Rpb25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdG1wRGlyZWN0aW9uQnV0dG9uLmNsYXNzTGlzdC5hZGQoYGRpcmVjdGlvbiR7aX1CdXR0b25gKTtcbiAgICAgICAgdG1wRGlyZWN0aW9uQnV0dG9uLmNsYXNzTGlzdC5hZGQoYGJ1dHRvbkRpcmVjdGlvbmApO1xuICAgICAgICB0bXBEaXJlY3Rpb25CdXR0b24udGV4dENvbnRlbnQgPSBkaXJlY3Rpb25zW2ldLnN5bWJvbDtcbiAgICAgICAgdG1wRGlyZWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1kaXJlY3Rpb24nLCBkaXJlY3Rpb25zW2ldLmRpcmVjdGlvbik7XG4gICAgICAgIHRtcERpcmVjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBwbGFjZUNob3NlbkRpcmVjdGlvbihwbGF5ZXIsIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXJlY3Rpb24nKSk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYnV0dG9uc1xuICAgICAgICAgICAgY29uc3QgY2hvc2VuQ29vcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hvc2VuTG9jYXRpb24nKTtcbiAgICAgICAgICAgIGNob3NlbkNvb3JkLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgY2hvc2VuQ29vcmQuY2xhc3NMaXN0LnJlbW92ZSgnY2hvc2VuTG9jYXRpb24nKTtcblxuICAgICAgICB9KVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodG1wRGlyZWN0aW9uQnV0dG9uKTtcbiAgICB9XG4gICAgLy8gY3JlYXRlL2ltcGxlbWVudCBjYW5jZWwgYnV0dG9uXG4gICAgY29uc3QgYnRuQ2FuY2VsUGxhY2VTaGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuQ2FuY2VsUGxhY2VTaGlwLnRleHRDb250ZW50ID0gXCJYXCI7XG4gICAgYnRuQ2FuY2VsUGxhY2VTaGlwLnZhbHVlID0gXCJDYW5jZWwgUGxhY2UgU2hpcFwiO1xuICAgIGJ0bkNhbmNlbFBsYWNlU2hpcC5jbGFzc0xpc3QuYWRkKCdidG5DYW5jZWxQbGFjZVNoaXAnKTtcbiAgICBidG5DYW5jZWxQbGFjZVNoaXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyU2VsZWN0ZWRDb29yZHMoKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0Rm9ybScpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVDbGljaycpO1xuICAgIH0pXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGJ0bkNhbmNlbFBsYWNlU2hpcCk7XG59XG5cbmNvbnN0IHBsYWNlQ2hvc2VuRGlyZWN0aW9uID0gKHBsYXllciwgY2hvc2VuRGlyZWN0aW9uKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coY2hvc2VuRGlyZWN0aW9uKTtcbiAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIpO1xuICAgIGxldCBidG5TZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5TZWxlY3RlZCcpXG4gICAgaWYgKGJ0blNlbGVjdGVkKSB7XG4gICAgICAgIGNvbnN0IHNoaXBMZW5ndGggPSBidG5TZWxlY3RlZC52YWx1ZTtcbiAgICAgICAgaWYgKCFzaGlwTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2hpcCBMZW5ndGggYnV0dG9uIG11c3QgYmUgc2VsZWN0ZWQxJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hvc2VuTG9jYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hvc2VuTG9jYXRpb24nKTtcbiAgICBcbiAgICAgICAgY29uc3QgbG9jYXRpb25JbmRleCA9IE51bWJlcihjaG9zZW5Mb2NhdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSk7XG4gICAgICAgIGNvbnN0IHBsYXllckluZGV4ID0gTnVtYmVyKGNob3NlbkxvY2F0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1wbGF5ZXJJbmRleCcpKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codHlwZW9mIGxvY2F0aW9uSW5kZXgpO1xuICAgICAgICBpZiAocGxheWVyLmdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcExlbmd0aCwgbG9jYXRpb25JbmRleCwgY2hvc2VuRGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgc2V0U2luZ2xlU2hpcChwbGF5ZXIsIHBsYXllckluZGV4KTtcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGxlbmd0aCBzZWxlY3RlZCEnKTtcbiAgICB9XG5cbn1cblxuY29uc3QgY2hlY2tJZldvbiA9ICgpID0+IHtcbiAgICBpZiAocGxheWVyMS5nYW1lYm9hcmQuY2hlY2tJZkxvc3QoKSkge1xuICAgICAgICBzZXROYXJyYXRpdmVUZXh0KGAke3BsYXllcjIuY2hhcmFjdGVyLm5hbWV9IEhhcyBzdW5rIGFsbCBvZiAke3BsYXllcjEuY2hhcmFjdGVyLm5hbWV9J3MgU2hpcHMhYCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0TmFycmF0aXZlVGV4dChgJHtwbGF5ZXIyLmNoYXJhY3Rlci5uYW1lfSBXaW5zIWApXG4gICAgICAgICAgICB0b2dnbGVTdGFydEJ1dHRvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSwgMTAwMClcbiAgICB9IGVsc2UgaWYgKHBsYXllcjIuZ2FtZWJvYXJkLmNoZWNrSWZMb3N0KCkpIHtcbiAgICAgICAgc2V0TmFycmF0aXZlVGV4dChgJHtwbGF5ZXIxLmNoYXJhY3Rlci5uYW1lfSBIYXMgc3VuayBhbGwgb2YgJHtwbGF5ZXIyLmNoYXJhY3Rlci5uYW1lfSdzIFNoaXBzIWApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldE5hcnJhdGl2ZVRleHQoYCR7cGxheWVyMS5jaGFyYWN0ZXIubmFtZX0gV2lucyFgKVxuICAgICAgICAgICAgdG9nZ2xlU3RhcnRCdXR0b24oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0sIDEwMDApICAgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufVxuXG5jb25zdCBoYW5kbGVBdHRhY2sgPSAodGFyZ2V0LCBwbGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2codGFyZ2V0KTtcbiAgICBsZXQgYXR0YWNrZWRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3BsYXllciR7aW5kZXh9QXJlYWApO1xuICAgIGxldCBhdHRhY2tpbmdQbGF5ZXI7XG4gICAgaWYgKGluZGV4ID09PSAxKSB7XG4gICAgICAgIGF0dGFja2luZ1BsYXllciA9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXR0YWNraW5nUGxheWVyID0gMTtcbiAgICB9XG4gICAgLy8gVHJ5IGF0dGFjayBhbmQgc2F2ZSByZXN1bHRcbiAgICBsZXQgYXR0YWNrSGl0ID0gcGxheWVyLmdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKE51bWJlcih0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpKTtcbiAgICBzZXROYXJyYXRpdmVUZXh0KGAke3BsYXllcjEuY2hhcmFjdGVyLm5hbWV9IHNlbmRzIG1pc3NsZXMhYClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0QXR0YWNrSWNvbihhdHRhY2tIaXQsIHRhcmdldCk7XG4gICAgICAgIGlmICghY2hlY2tNdWx0aXBsYXllcigpKSB7ICAgIFxuICAgICAgICAgICAgaWYgKGNoZWNrSWZXb24oKSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgT3ZlciEnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldE5hcnJhdGl2ZVRleHQoYCR7cGxheWVyMi5jaGFyYWN0ZXIubmFtZX0gUmV0YWxpYXRlcyFgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBSSBBdHRhY2tzIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHBsYXllcjIgcmFuZG9tIGF0dGFjaywgYXR0YWNrIHBsYXllcjFcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE5hcnJhdGl2ZVRleHQoYCR7cGxheWVyLmNoYXJhY3Rlci5uYW1lfSBzZW5kcyBhIG1pc3NsZSFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhaUF0dGFja0Nvb3JkcyA9IHBsYXllcjIuY2hhcmFjdGVyLnJhbmRvbUF0dGFja0Nvb3JkcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFpQXR0YWNrQ29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWlBdHRhY2tIaXQgPSBwbGF5ZXIxLmdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGFpQXR0YWNrQ29vcmRzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbW11bmljYXRlIGhpdCBvciBtaXNzIHRvIEFJIHBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhaUF0dGFja0hpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyLmNoYXJhY3Rlci5zZXRMYXN0SGl0Q29vcmRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja0lmV29uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWVPdmVyIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBhdHRhY2sgY29vcmQgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFpQXR0YWNrSW5kZXggPSBwbGF5ZXIxLmdhbWVib2FyZC5nZXRMb2NhdGlvbkluZGV4KGFpQXR0YWNrQ29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBsYXllcjFOb2RlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXIxQXJlYScpLnF1ZXJ5U2VsZWN0b3IoJy5ncmlkUGxheWVyQXJlYScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ncmlkTG9jYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocGxheWVyMU5vZGVMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWlBdHRhY2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxheWVyMU5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIxTm9kZUxpc3RbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHBsYXllcjFOb2RlTGlzdFtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSkgPT09IGFpQXR0YWNrSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIxTm9kZUxpc3RbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF0dGFja0ljb24oYWlBdHRhY2tIaXQsIHBsYXllcjFOb2RlTGlzdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5hcnJhdGl2ZVRleHQoYCR7cGxheWVyMS5jaGFyYWN0ZXIubmFtZX0ncyB0dXJuIHRvIGF0dGFjayFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrZWRBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVDbGljaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxuICAgICAgICAgICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJdCBpcyBub3cgUGxheWVyJHtpbmRleH0ncyB0dXJuIWApO1xuICAgICAgICB9XG4gICAgfSwgNTAwKTtcbiAgICAvLyBQcmV2ZW50IGZ1cnRoZXIgYXR0YWNrc1xuICAgIGF0dGFja2VkQXJlYS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlQ2xpY2snKTtcbiAgICBcblxufVxuXG5jb25zdCB0b2dnbGVTdGFydEJ1dHRvbiA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhcnRCdXR0b24nKS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbn1cblxuY29uc3Qgc2V0QXR0YWNrSWNvbiA9IChhdHRhY2tIaXQsIHRhcmdldCkgPT4ge1xuICAgIGlmIChhdHRhY2tIaXQpIHtcbiAgICAgICAgc2V0TmFycmF0aXZlVGV4dChcIkFuZCBpdCdzIGEgSGl0IVwiKTtcbiAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gJ1gnO1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnY29vcmRIb3ZlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE5hcnJhdGl2ZVRleHQoXCJBbmQgaXQncyBhIE1pc3MuLi5cIik7XG4gICAgICAgIHRhcmdldC50ZXh0Q29udGVudCA9ICdPJztcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Nvb3JkSG92ZXInKTtcbiAgICB9XG59XG5cbmNvbnN0IHNldE5hcnJhdGl2ZVRleHQgPSAoaW5wdXRUZXh0KSA9PiB7XG4gICAgY29uc3QgbmFycmF0aXZlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXJyYXRpdmVCb2FyZCBwJyk7XG4gICAgbmFycmF0aXZlVGV4dC50ZXh0Q29udGVudCA9IGlucHV0VGV4dDtcbn1cblxuZXhwb3J0IHtcbiAgICBkcmF3TmFycmF0aXZlQm9hcmQsXG4gICAgZHJhd0dhbWVib2FyZHMsXG4gICAgbmV3R2FtZUJ1dHRvbixcbiAgICBzZXRTaGlwcyxcbiAgICBhZGRBdHRhY2tMaXN0ZW5lcnMsXG59IiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9HYW1lYm9hcmRcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XG5pbXBvcnQgeyBhZGRBdHRhY2tMaXN0ZW5lcnMsIGRyYXdHYW1lYm9hcmRzLCBkcmF3TmFycmF0aXZlQm9hcmQsIG5ld0dhbWVCdXR0b24sIHNldFNoaXBzIH0gZnJvbSBcIi4vZnVuY3Rpb25zRE9NLmpzXCI7XG5cblxubGV0IGN1cnJlbnRQbGF5ZXIgPSAxO1xubGV0IG11bHRpcGxheWVyID0gMDtcbmxldCBnYW1lU3RhcnRlZCA9IDA7XG5jb25zdCBwbGF5ZXIxID0ge1xuICAgIGNoYXJhY3RlcjogUGxheWVyKFwiS1BcIiwgZmFsc2UpLFxuICAgIGdhbWVib2FyZDogR2FtZWJvYXJkKDEwLCAxMCksXG59XG5jb25zdCBwbGF5ZXIyID0ge1xuICAgIGNoYXJhY3RlcjogUGxheWVyKFwiUm9ib3RcIiwgdHJ1ZSksXG4gICAgZ2FtZWJvYXJkOiBHYW1lYm9hcmQoMTAsIDEwKSxcbn1cblxuY29uc3QgbmV3R2FtZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XG4gICAgZHJhd05hcnJhdGl2ZUJvYXJkKCk7XG5cbiAgICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKGRyYXdHYW1lYm9hcmRzKCkpO1xuICAgIFxuXG5cbiAgICAvLyBtdWx0aXBsYXllciA9IDE7XG4gICAgbmV3R2FtZUJ1dHRvbihwbGF5ZXIxLCBwbGF5ZXIyLCBtdWx0aXBsYXllcik7XG5cblxuICAgIFxufSkoKTtcblxuY29uc3QgY2hlY2tNdWx0aXBsYXllciA9ICgpID0+IHtcbiAgICByZXR1cm4gbXVsdGlwbGF5ZXI7XG59XG5cbmNvbnN0IGNoZWNrQ3VycmVudFBsYXllciA9ICgpID0+IHtcbiAgICByZXR1cm4gY3VycmVudFBsYXllcjtcbn1cblxuY29uc3Qgc2V0Q3VycmVudFBsYXllciA9IChwbGF5ZXJJbmRleCkgPT4ge1xuICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJJbmRleDtcbn1cblxuZXhwb3J0IHtcbiAgICBuZXdHYW1lLFxuICAgIGN1cnJlbnRQbGF5ZXIsXG4gICAgY2hlY2tNdWx0aXBsYXllciwgXG4gICAgcGxheWVyMSxcbiAgICBwbGF5ZXIyLFxufSAiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwic2l6ZVgiLCJzaXplWSIsIngiLCJ5IiwiYm9hcmRMb2NBcnJheSIsInNoaXBzTG9jYXRpb25BcnJheSIsIm1pc3NlZEF0dGFja3MiLCJoaXRBdHRhY2tzIiwiaiIsImNoZWNrSWZMb3N0Iiwic3Vua1NoaXBzIiwiZm9yRWFjaCIsInNoaXAiLCJzaGlwRGF0YSIsInN1bmsiLCJjaGVja0F0dGFja3MiLCJhdHRhY2tBcnJheSIsImNoZWNrT2NjdXBpZWQiLCJjb25zb2xlIiwibG9nIiwiTnVtYmVyIiwiZXJyb3IiLCJnZXRMb2NhdGlvbkluZGV4IiwibG9jYXRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJnZXRDb29yZEZyb21JbmRleCIsInBsYWNlU2hpcCIsInNoaXBTaXplIiwiZGlyZWN0aW9uSW5kZXgiLCJtb2NrU2hpcCIsImhpdHMiLCJuYW1lIiwiaGl0IiwiaXNTdW5rIiwiQmF0dGxlc2hpcCIsInBvc3NpYmxlUGxhY2VtZW50cyIsInBvc3NpYmxlTW92ZXMiLCJub3J0aEluZGV4QXJyYXkiLCJpbmRleEFycmF5IiwidG1wTG9jYXRpb24iLCJ0bXBMb2NhdGlvbkluZGV4IiwiY2hlY2tOb3J0aCIsImVhc3RJbmRleEFycmF5IiwiY2hlY2tFYXN0Iiwic291dGhJbmRleEFycmF5IiwiY2hlY2tTb3V0aCIsIndlc3RJbmRleEFycmF5IiwiY2hlY2tXZXN0IiwiZGlyZWN0aW9uIiwiY2hlY2tQb3NzaWJsZVBsYWNlbWVudHMiLCJwbGFjZW1lbnRJbmRleEFycmF5IiwicGxhY2VtZW50TG9jYXRpb25zIiwicmVjZWl2ZUF0dGFjayIsImNvb3JkcyIsImF0dGFja0xvY2F0aW9uSW5kZXgiLCJhdHRhY2tIaXQiLCJoaXRTaGlwIiwiaGl0SW5kZXgiLCJmb3VuZFNoaXAiLCJmaW5kIiwiZ2V0SGl0U2hpcCIsImNoZWNrQWxsUGxhY2VkIiwiaXNBSSIsImJvYXJkV2lkdGgiLCJhdHRhY2tIaXN0b3J5IiwicGxhY2VtZW50SGlzdG9yeSIsImxhc3RIaXRDb29yZHMiLCJhZGphY2VudENvb3JkcyIsImNoZWNrQXR0YWNrSGlzdG9yeSIsImF0dGFja0Nvb3JkcyIsImNoZWNrUGxhY2VtZW50SGlzdG9yeSIsInBsYWNlbWVudENvb3JkcyIsInJhbmRvbUF0dGFja0Nvb3JkcyIsImF0dGFja0xvY2F0aW9uIiwic2hpZnQiLCJyYW5kb21Db29yZHMiLCJyYW5kb21Mb2NhdGlvbiIsIm1heE51bWJlciIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldExhc3RIaXRDb29yZHMiLCJzZXRBZGplY2VudENvb3JkcyIsIm5vcnRoQWRqZWNlbnQiLCJlYXN0QWRqZWNlbnQiLCJzb3V0aEFkamVjZW50IiwiV2VzdEFkamVjZW50IiwicmFuZG9tUGxhY2VtZW50Q29vcmRzIiwiY2xlYXJOZXdHYW1lIiwiZHJhd0dhbWVib2FyZHMiLCJsZWdlbmQiLCJib2FyZHNDb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJncmlkQWxwaGFMYWJlbHMxIiwiZ3JpZE51bUxhYmVsczEiLCJwbGF5ZXIxR3JpZCIsInBsYXllcjFQbGF5QXJlYSIsImdyaWRMYWJlbCIsInRleHRDb250ZW50IiwiZ3JpZEl0ZW0iLCJwbGF5ZXIyR3JpZCIsImdyaWRBbHBoYUxhYmVsczIiLCJjbG9uZU5vZGUiLCJncmlkTnVtTGFiZWxzMiIsInBsYXllcjJQbGF5QXJlYSIsInNldFNoaXBzIiwicGxheWVyIiwicGxheWVySW5kZXgiLCJwbGF5QXJlYU5vZGVMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImdhbWVib2FyZCIsImZpbmROb2RlIiwic2V0QUlTaGlwcyIsImFkZEF0dGFja0xpc3RlbmVycyIsIm5vZGVMaXN0IiwiZ2V0QXR0cmlidXRlIiwiY29vcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQXR0YWNrIiwib25jZSIsImNoZWNrSWZXb24iLCJzZXROYXJyYXRpdmVUZXh0Iiwic2V0VGltZW91dCIsInRvZ2dsZVN0YXJ0QnV0dG9uIiwiYXR0YWNraW5nUGxheWVyIiwiYXR0YWNrZWRBcmVhIiwic2V0QXR0YWNrSWNvbiIsImNoZWNrTXVsdGlwbGF5ZXIiLCJjaGFyYWN0ZXIiLCJhaUF0dGFja0Nvb3JkcyIsImFpQXR0YWNrSGl0IiwiYWlBdHRhY2tJbmRleCIsInBsYXllcjFOb2RlTGlzdCIsInRvZ2dsZSIsImlucHV0VGV4dCIsIm1haW5Db250YWluZXIiLCJuYXJyYXRpdmVCb2FyZCIsIm5hcnJhdGl2ZVRleHQiLCJkcmF3TmFycmF0aXZlQm9hcmQiLCJwbGF5ZXIxIiwicGxheWVyMiIsIm11bHRpIiwic3RhcnRCdXR0b24iLCJ2YWx1ZSIsImRyYXdTdGFydEJ1dHRvbiIsInBsYXlBcmVhIiwicmVwbGFjZVdpdGgiLCJuZXdHYW1lQnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==